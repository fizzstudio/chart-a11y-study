import{r as registerInstance,c as createEvent,h,g as getElement}from"./index-1c5d8972.js";import{m as max}from"./max-d011e4a4.js";import{m as min}from"./min-25ce8dfd.js";import{p as point}from"./band-5f1a0d38.js";import{n as nest,l as linear}from"./linear-e4808753.js";import{m as millisecond,s as second,a as minute,b as scaleTime}from"./time-a3eb9de6.js";import{v as visaChartsUtils_umd,s as select,e as event}from"./visa-charts-utils.umd-23a648ee.js";import{v as v4}from"./index-ba4ad12d.js";import{h as hour,d as day,s as sunday,m as month,y as year}from"./year-2fdc410d.js";import{c as circleIn}from"./circle-1a7bf607.js";import"./range-56de4c41.js";import"./value-3b657936.js";var propDefaultValues=visaChartsUtils_umd.propDefaultValues;var DumbbellPlotDefaultValues=function(){function e(){}return e}();DumbbellPlotDefaultValues.mainTitle="Dumbbell Plot Title";DumbbellPlotDefaultValues.subTitle="This is the dumbbell plot's subtitle";DumbbellPlotDefaultValues.height=300;DumbbellPlotDefaultValues.width=650;DumbbellPlotDefaultValues.margin={top:300*.01,bottom:300*.01,right:650*.01,left:650*.01};DumbbellPlotDefaultValues.padding={top:20,bottom:50,right:50,left:50};DumbbellPlotDefaultValues.ordinalAccessor="date";DumbbellPlotDefaultValues.valueAccessor="value";DumbbellPlotDefaultValues.seriesAccessor="category";DumbbellPlotDefaultValues.focusMarker={key:"",sizeFromBar:12};DumbbellPlotDefaultValues.marker={visible:true,type:"dot",sizeFromBar:8};DumbbellPlotDefaultValues.barStyle={opacity:1,width:1,colorRule:"default"};DumbbellPlotDefaultValues.differenceLabel={visible:false,placement:"left",calculation:"difference",format:"0[.][0][0]a",collisionHideOnly:false};DumbbellPlotDefaultValues.layout=propDefaultValues.layout;DumbbellPlotDefaultValues.accessibility=propDefaultValues.accessibility;DumbbellPlotDefaultValues.animationConfig=propDefaultValues.animationConfig;DumbbellPlotDefaultValues.highestHeadingLevel=propDefaultValues.highestHeadingLevel;DumbbellPlotDefaultValues.sortOrder=propDefaultValues.sortOrder;DumbbellPlotDefaultValues.xAxis=propDefaultValues.xAxisDate;DumbbellPlotDefaultValues.yAxis=propDefaultValues.yAxis;DumbbellPlotDefaultValues.showBaselineX=propDefaultValues.showBaselineFalse;DumbbellPlotDefaultValues.showBaselineY=propDefaultValues.showBaselineFalse;DumbbellPlotDefaultValues.wrapLabel=propDefaultValues.wrapLabel;DumbbellPlotDefaultValues.colorPalette=propDefaultValues.colorPaletteCategorical;DumbbellPlotDefaultValues.hoverStyle=propDefaultValues.hoverStyle;DumbbellPlotDefaultValues.clickStyle=propDefaultValues.clickStyle;DumbbellPlotDefaultValues.referenceStyle=propDefaultValues.referenceStyle;DumbbellPlotDefaultValues.cursor=propDefaultValues.cursor;DumbbellPlotDefaultValues.roundedCorner=propDefaultValues.roundedCorner;DumbbellPlotDefaultValues.barIntervalRatio=propDefaultValues.barIntervalRatio;DumbbellPlotDefaultValues.hoverOpacity=propDefaultValues.hoverOpacity;DumbbellPlotDefaultValues.dataLabel=propDefaultValues.dataLabelEnds;DumbbellPlotDefaultValues.legend=propDefaultValues.hiddenLegend;DumbbellPlotDefaultValues.tooltipLabel=propDefaultValues.tooltipLabel;DumbbellPlotDefaultValues.showTooltip=propDefaultValues.showTooltip;DumbbellPlotDefaultValues.suppressEvents=propDefaultValues.suppressEvents;DumbbellPlotDefaultValues.referenceLines=propDefaultValues.referenceLines;DumbbellPlotDefaultValues.annotations=propDefaultValues.annotations;DumbbellPlotDefaultValues.clickHighlight=propDefaultValues.clickHighlight;DumbbellPlotDefaultValues.seriesLabel=propDefaultValues.seriesLabel;var dumbbellPlotCss=".o-layout{width:100%;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.o-layout--chart{width:100%}.is--vertical .o-layout--chart{width:90%}dumbbell-plot{cursor:default}dumbbell-plot .screen-reader-info{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}dumbbell-plot .data-table-link{color:#767676;text-decoration:none;font-size:12px;margin-left:5%}dumbbell-plot .hidden{display:none}dumbbell-plot .axis{font-size:12px}dumbbell-plot .axis text{fill:#767676}dumbbell-plot .axis-label{text-anchor:middle;font:1rem sans-serif}dumbbell-plot .axis path{stroke:#767676}dumbbell-plot .grid line{stroke:#767676;stroke-opacity:0.6;shape-rendering:crispEdges;stroke-dasharray:4, 4}dumbbell-plot .grid path{stroke-width:0;stroke:#767676}dumbbell-plot .dumbbell-group{-webkit-transition:opacity 0.5s linear;transition:opacity 0.5s linear}dumbbell-plot .dumbbell-group__inactive{opacity:0}dumbbell-plot .dumbbell-group .dot{stroke:#ffffff}dumbbell-plot .dumbbell-group .dumbbell-series-label{font-size:1em}dumbbell-plot .dumbbell-legend{font-size:1em;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start}dumbbell-plot .dumbbell-legend .legend{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start}dumbbell-plot .annotations{pointer-events:none}dumbbell-plot .annotations .handle{pointer-events:all}";var getAccessibleStrokes=visaChartsUtils_umd.getAccessibleStrokes,ensureTextContrast=visaChartsUtils_umd.ensureTextContrast,createTextStrokeFilter=visaChartsUtils_umd.createTextStrokeFilter,createUrl=visaChartsUtils_umd.createUrl,initializeDescriptionRoot=visaChartsUtils_umd.initializeDescriptionRoot,initializeElementAccess=visaChartsUtils_umd.initializeElementAccess,setElementFocusHandler=visaChartsUtils_umd.setElementFocusHandler,setElementAccessID=visaChartsUtils_umd.setElementAccessID,setAccessibilityController=visaChartsUtils_umd.setAccessibilityController,hideNonessentialGroups=visaChartsUtils_umd.hideNonessentialGroups,setAccessTitle=visaChartsUtils_umd.setAccessTitle,setAccessSubtitle=visaChartsUtils_umd.setAccessSubtitle,setAccessLongDescription=visaChartsUtils_umd.setAccessLongDescription,setAccessExecutiveSummary=visaChartsUtils_umd.setAccessExecutiveSummary,setAccessPurpose=visaChartsUtils_umd.setAccessPurpose,setAccessContext=visaChartsUtils_umd.setAccessContext,setAccessStatistics=visaChartsUtils_umd.setAccessStatistics,setAccessChartCounts=visaChartsUtils_umd.setAccessChartCounts,setAccessXAxis=visaChartsUtils_umd.setAccessXAxis,setAccessYAxis=visaChartsUtils_umd.setAccessYAxis,setAccessStructure=visaChartsUtils_umd.setAccessStructure,setAccessAnnotation=visaChartsUtils_umd.setAccessAnnotation,retainAccessFocus=visaChartsUtils_umd.retainAccessFocus,checkAccessFocus=visaChartsUtils_umd.checkAccessFocus,setElementInteractionAccessState=visaChartsUtils_umd.setElementInteractionAccessState,setAccessibilityDescriptionWidth=visaChartsUtils_umd.setAccessibilityDescriptionWidth,drawTooltip=visaChartsUtils_umd.drawTooltip,annotate=visaChartsUtils_umd.annotate,chartAccessors=visaChartsUtils_umd.chartAccessors,checkInteraction=visaChartsUtils_umd.checkInteraction,checkClicked=visaChartsUtils_umd.checkClicked,checkHovered=visaChartsUtils_umd.checkHovered,convertVisaColor=visaChartsUtils_umd.convertVisaColor,drawAxis=visaChartsUtils_umd.drawAxis,drawGrid=visaChartsUtils_umd.drawGrid,drawLegend=visaChartsUtils_umd.drawLegend,setLegendInteractionState=visaChartsUtils_umd.setLegendInteractionState,formatDataLabel=visaChartsUtils_umd.formatDataLabel,getColors=visaChartsUtils_umd.getColors,getLicenses=visaChartsUtils_umd.getLicenses,getPadding=visaChartsUtils_umd.getPadding,getScopedData=visaChartsUtils_umd.getScopedData,initTooltipStyle=visaChartsUtils_umd.initTooltipStyle,overrideTitleTooltip=visaChartsUtils_umd.overrideTitleTooltip,placeDataLabels=visaChartsUtils_umd.placeDataLabels,scopeDataKeys=visaChartsUtils_umd.scopeDataKeys,visaColors=visaChartsUtils_umd.visaColors,transitionEndAll=visaChartsUtils_umd.transitionEndAll,validateAccessibilityProps=visaChartsUtils_umd.validateAccessibilityProps,findTagLevel=visaChartsUtils_umd.findTagLevel,prepareRenderChange=visaChartsUtils_umd.prepareRenderChange,roundTo=visaChartsUtils_umd.roundTo,getTextWidth=visaChartsUtils_umd.getTextWidth,resolveLabelCollision=visaChartsUtils_umd.resolveLabelCollision;var DumbbellPlot=function(){function e(e){var t=this;registerInstance(this,e);this.clickEvent=createEvent(this,"clickEvent",7);this.hoverEvent=createEvent(this,"hoverEvent",7);this.mouseOutEvent=createEvent(this,"mouseOutEvent",7);this.initialLoadEvent=createEvent(this,"initialLoadEvent",7);this.drawStartEvent=createEvent(this,"drawStartEvent",7);this.drawEndEvent=createEvent(this,"drawEndEvent",7);this.transitionEndEvent=createEvent(this,"transitionEndEvent",7);this.mainTitle=DumbbellPlotDefaultValues.mainTitle;this.subTitle=DumbbellPlotDefaultValues.subTitle;this.height=DumbbellPlotDefaultValues.height;this.width=DumbbellPlotDefaultValues.width;this.margin=DumbbellPlotDefaultValues.margin;this.padding=DumbbellPlotDefaultValues.padding;this.highestHeadingLevel=DumbbellPlotDefaultValues.highestHeadingLevel;this.ordinalAccessor=DumbbellPlotDefaultValues.ordinalAccessor;this.valueAccessor=DumbbellPlotDefaultValues.valueAccessor;this.seriesAccessor=DumbbellPlotDefaultValues.seriesAccessor;this.sortOrder=DumbbellPlotDefaultValues.sortOrder;this.xAxis=DumbbellPlotDefaultValues.xAxis;this.yAxis=DumbbellPlotDefaultValues.yAxis;this.wrapLabel=DumbbellPlotDefaultValues.wrapLabel;this.layout=DumbbellPlotDefaultValues.layout;this.showBaselineX=DumbbellPlotDefaultValues.showBaselineX;this.showBaselineY=DumbbellPlotDefaultValues.showBaselineY;this.colorPalette=DumbbellPlotDefaultValues.colorPalette;this.hoverStyle=DumbbellPlotDefaultValues.hoverStyle;this.hoverOpacity=DumbbellPlotDefaultValues.hoverOpacity;this.animationConfig=DumbbellPlotDefaultValues.animationConfig;this.clickStyle=DumbbellPlotDefaultValues.clickStyle;this.referenceStyle=DumbbellPlotDefaultValues.referenceStyle;this.cursor=DumbbellPlotDefaultValues.cursor;this.focusMarker=DumbbellPlotDefaultValues.focusMarker;this.marker=DumbbellPlotDefaultValues.marker;this.barStyle=DumbbellPlotDefaultValues.barStyle;this.dataLabel=DumbbellPlotDefaultValues.dataLabel;this.seriesLabel=DumbbellPlotDefaultValues.seriesLabel;this.differenceLabel=DumbbellPlotDefaultValues.differenceLabel;this.showTooltip=DumbbellPlotDefaultValues.showTooltip;this.tooltipLabel=DumbbellPlotDefaultValues.tooltipLabel;this.accessibility=DumbbellPlotDefaultValues.accessibility;this.legend=DumbbellPlotDefaultValues.legend;this.annotations=DumbbellPlotDefaultValues.annotations;this.referenceLines=DumbbellPlotDefaultValues.referenceLines;this.suppressEvents=DumbbellPlotDefaultValues.suppressEvents;this.clickHighlight=DumbbellPlotDefaultValues.clickHighlight;this.unitTest=false;this.shouldValidateAccessibility=true;this.updated=true;this.time={timemillisecond:millisecond,timesecond:second,timeminute:minute,timehour:hour,timeday:day,timeweek:sunday,timemonth:month,timeyear:year};this.shouldUpdateLayout=false;this.shouldValidate=false;this.shouldUpdateAnnotations=false;this.shouldUpdateReferenceLines=false;this.shouldResetRoot=false;this.shouldUpdateXAxis=false;this.shouldUpdateXGrid=false;this.shouldUpdateYAxis=false;this.shouldUpdateYGrid=false;this.shouldUpdateScales=false;this.shouldUpdateBaseline=false;this.shouldCheckValueAxis=false;this.shouldCheckLabelAxis=false;this.shouldSetColors=false;this.shouldUpdateLegend=false;this.shouldSetGlobalSelections=false;this.shouldSetSeriesSelections=false;this.shouldSetTestingAttributes=false;this.shouldUpdateData=false;this.shouldEnterUpdateExit=false;this.shouldEnterUpdateExitMarkers=false;this.shouldUpdateMarkerOpacity=false;this.shouldUpdateGeometries=false;this.shouldUpdateSeriesLabels=false;this.shouldUpdateDifferenceLabels=false;this.shouldUpdateLabels=false;this.shouldValidateInteractionKeys=false;this.shouldUpdateTableData=false;this.shouldValidateDataLabelPlacement=false;this.shouldValidateDataLabelAccessor=false;this.shouldAddStrokeUnder=false;this.shouldUpdateBaselineX=false;this.shouldUpdateBaselineY=false;this.shouldUpdateLegendData=false;this.shouldUpdateMarkerIDs=false;this.shouldValidateLayout=false;this.shouldValidateSeriesLabelPlacement=false;this.shouldValidateDiffLabelPlacement=false;this.shouldBindInteractivity=false;this.shouldBindLegendInteractivity=false;this.shouldBindSeriesInteractivity=false;this.shouldUpdateCursor=false;this.shouldSetLegendCursor=false;this.shouldSetSeriesCursor=false;this.shouldSetLabelOpacity=false;this.shouldSetSeriesLabelOpacity=false;this.shouldSetDifferenceLabelOpacity=false;this.shouldSetSelectionClass=false;this.shouldDrawInteractionState=false;this.shouldRenderMarkerGroup=false;this.shouldUpdateBarStyle=false;this.shouldUpdateMarkerSize=false;this.shouldUpdateDiffLabelColor=false;this.shouldUpdateMarkerStyle=false;this.shouldDrawMarkerGeometries=false;this.shouldUpdateMarkerData=false;this.shouldUpdateSeriesData=false;this.shouldUpdateDescriptionWrapper=false;this.shouldSetChartAccessibilityTitle=false;this.shouldSetChartAccessibilitySubtitle=false;this.shouldSetChartAccessibilityLongDescription=false;this.shouldSetChartAccessibilityExecutiveSummary=false;this.shouldSetChartAccessibilityStatisticalNotes=false;this.shouldSetChartAccessibilityStructureNotes=false;this.shouldSetParentSVGAccessibility=false;this.shouldSetGeometryAccessibilityAttributes=false;this.shouldSetGeometryAriaLabels=false;this.shouldSetGroupAccessibilityAttributes=false;this.shouldSetGroupAccessibilityLabel=false;this.shouldSetChartAccessibilityPurpose=false;this.shouldSetChartAccessibilityContext=false;this.shouldRedrawWrapper=false;this.shouldSetTagLevels=false;this.shouldSetChartAccessibilityCount=false;this.shouldSetYAxisAccessibility=false;this.shouldSetXAxisAccessibility=false;this.shouldSetAnnotationAccessibility=false;this.topLevel="h2";this.bottomLevel="p";this.strokes={};this.handleMarkerColors=function(e,s,i){var a=t.rawColors[e.referenceIndex]||t.rawColors[0];var r=s<2&&t.clickHighlight.length?t.clickStyle.color||a:s<4?a:t.hoverStyle.color||a;var l=t.colorArr[e.referenceIndex]||t.colorArr[0];var o=s<2&&t.clickHighlight.length?t.clickStyle.color||l:s<4?l:t.hoverStyle.color||l;select(i[s]).attr("fill",o);return!t.accessibility.hideStrokes?t.strokes[r.toLowerCase()]:o};this.handleSeriesLabelColors=function(e,s){var i;var a;if(t.seriesInteraction){i=checkHovered(e,t.hoverHighlight,t.innerInteractionKeys);a=checkClicked(e,t.clickHighlight,t.innerInteractionKeys)}var r=t.rawColors[s]||t.rawColors[0];var l=t.seriesInteraction?a&&t.clickHighlight.length?t.clickStyle.color||r:i&&t.hoverHighlight?t.hoverStyle.color||r:r:r;return t.textColors[l.toLowerCase()]};this.handleLabelColors=function(e,s){var i=checkHovered(e,t.hoverHighlight,t.innerInteractionKeys);var a=checkClicked(e,t.clickHighlight,t.innerInteractionKeys);var r=t.rawColors[s]||t.rawColors[0];var l=a&&t.clickHighlight.length?t.clickStyle.color||r:i&&t.hoverHighlight?t.hoverStyle.color||r:r;return t.textColors[l.toLowerCase()]};this.handleBarColors=function(e,s,i){e.focusMarker=false;if(e.values[0][t.seriesAccessor]===t.focusMarker.key){e.focusMarker=0}else if(e.values[1][t.seriesAccessor]===t.focusMarker.key){e.focusMarker=1}var a=checkClicked(e.values[0],t.clickHighlight,t.innerInteractionKeys)&&checkClicked(e.values[1],t.clickHighlight,t.innerInteractionKeys);var r=checkHovered(e.values[0],t.hoverHighlight,t.innerInteractionKeys)&&checkHovered(e.values[1],t.hoverHighlight,t.innerInteractionKeys);var l=t.barStyle.colorRule==="focus"&&(e.focusMarker||e.focusMarker===0)?t.rawColors[e.focusMarker]:t.barStyle.colorRule==="greaterValue"?t.rawColors[e.greaterIndex]:t.rawColors[2];var o=a&&t.clickHighlight.length?t.clickStyle.color||l:r&&t.hoverHighlight?t.hoverStyle.color||l:l;var n=t.barStyle.colorRule==="focus"&&(e.focusMarker||e.focusMarker===0)?t.colorArr[e.focusMarker]:t.barStyle.colorRule==="greaterValue"?t.colorArr[e.greaterIndex]:t.colorArr[2];var h=a&&t.clickHighlight.length?t.clickStyle.color||n:r&&t.hoverHighlight?t.hoverStyle.color||n:n;select(i[s]).attr("fill",h);return!t.accessibility.hideStrokes?t.strokes[o.toLowerCase()]:h};this.handleBarOpacity=function(e,s,i){var a=checkInteraction(e.values[0],1,0,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys);var r=checkInteraction(e.values[1],1,0,t.hoverHighlight,t.clickHighlight,t.innerInteractionKeys);var l=a&&r?t.barStyle.opacity:t.hoverOpacity;select(i[s]).attr("stroke-opacity",l);return l};this.setBarSize=function(e,s,i){var a=checkClicked(e.values[0],t.clickHighlight,t.innerInteractionKeys)&&checkClicked(e.values[1],t.clickHighlight,t.innerInteractionKeys);var r=checkHovered(e.values[0],t.hoverHighlight,t.innerInteractionKeys)&&checkHovered(e.values[1],t.hoverHighlight,t.innerInteractionKeys);var l=t.dumbbellInteraction?a?parseFloat(t.clickStyle.strokeWidth+"")||t.barStyle.width:r?parseFloat(t.hoverStyle.strokeWidth+"")||t.barStyle.width:t.barStyle.width:t.barStyle.width;var o=t.x(e.values[0][t.xAccessor]);var n=t.y(e.values[0][t.yAccessor]);var h=t.x(e.values[1][t.xAccessor]);var c=t.y(e.values[1][t.yAccessor]);var u=t.isVertical?n>c?.001:-.001:0;var d=!t.isVertical?o>h?.001:-.001:0;var p=t.isVertical?l/2:0;var f=!t.isVertical?l/2:0;select(i[s]).attr("data-barSize",l).attr("data-centerX1",(function(e){return t.x(e.values[0][t.xAccessor])})).attr("data-centerY1",(function(e){return t.y(e.values[0][t.yAccessor])})).attr("data-centerX2",(function(e){return t.x(e.values[1][t.xAccessor])})).attr("data-centerY2",(function(e){return t.y(e.values[1][t.yAccessor])}));return"M ".concat(o+d," ").concat(n+u," L ").concat(o," ").concat(n," L ").concat(o+p," ").concat(n+f," L ").concat(h+p," ").concat(c+f," L ").concat(h," ").concat(c," L ").concat(h-p," ").concat(c-f," L ").concat(o-p," ").concat(n-f," L ").concat(o," ").concat(n," L ").concat(o+p," ").concat(n+f," L ").concat(h+p," ").concat(c+f," L ").concat(h," ").concat(c," L ").concat(h-d," ").concat(c-u)};this.setDiffLabelColor=function(e){e.focusMarker=false;if(e.values[0][t.seriesAccessor]===t.focusMarker.key){e.focusMarker=0}else if(e.values[1][t.seriesAccessor]===t.focusMarker.key){e.focusMarker=1}var s=t.barStyle.colorRule==="focus"&&(e.focusMarker||e.focusMarker===0)?t.rawColors[e.focusMarker]:t.barStyle.colorRule==="greaterValue"?t.rawColors[e.greaterIndex]:t.rawColors[2];var i;var a;if(t.dumbbellInteraction){a=checkClicked(e.values[0],t.clickHighlight,t.innerInteractionKeys)&&checkClicked(e.values[1],t.clickHighlight,t.innerInteractionKeys);i=checkHovered(e.values[0],t.hoverHighlight,t.innerInteractionKeys)&&checkHovered(e.values[1],t.hoverHighlight,t.innerInteractionKeys)}var r=t.dumbbellInteraction?a&&t.clickHighlight.length?t.clickStyle.color||s:i&&t.hoverHighlight?t.hoverStyle.color||s:s:s;return t.textColors[r.toLowerCase()]}}e.prototype.mainTitleWatcher=function(e,t){this.shouldValidate=true;this.shouldUpdateDescriptionWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetParentSVGAccessibility=true};e.prototype.subTitleWatcher=function(e,t){this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetParentSVGAccessibility=true};e.prototype.dimensionWatcher=function(e,t){this.shouldUpdateLayout=true;this.shouldUpdateScales=true;this.shouldResetRoot=true;this.shouldUpdateGeometries=true;this.shouldUpdateXAxis=true;this.shouldUpdateYAxis=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldUpdateLabels=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaselineX=true;this.shouldUpdateBaselineY=true;this.shouldUpdateAnnotations=true};e.prototype.dataWatcher=function(e,t){this.updated=true;this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldUpdateSeriesData=true;this.shouldSetGlobalSelections=true;this.shouldSetTestingAttributes=true;this.shouldEnterUpdateExit=true;this.shouldEnterUpdateExitMarkers=true;this.shouldUpdateMarkerSize=true;this.shouldUpdateMarkerIDs=true;this.shouldUpdateLegendData=true;this.shouldUpdateTableData=true;this.shouldUpdateScales=true;this.shouldValidate=true;this.shouldUpdateGeometries=true;this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true;this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldSetLabelOpacity=true;this.shouldUpdateLabels=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaselineX=true;this.shouldUpdateBaselineY=true;this.shouldUpdateAnnotations=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldSetGeometryAriaLabels=true;this.shouldUpdateBarStyle=true;this.shouldSetColors=true};e.prototype.idWatcher=function(e,t){console.error("Change detected in prop uniqueID from value "+t+" to value "+e+". This prop cannot be changed after component has loaded.")};e.prototype.headingWatcher=function(e,t){this.shouldRedrawWrapper=true;this.shouldSetTagLevels=true;this.shouldSetChartAccessibilityCount=true;this.shouldSetYAxisAccessibility=true;this.shouldSetXAxisAccessibility=true;this.shouldSetAnnotationAccessibility=true;this.shouldUpdateDescriptionWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetChartAccessibilityLongDescription=true;this.shouldSetChartAccessibilityContext=true;this.shouldSetChartAccessibilityExecutiveSummary=true;this.shouldSetChartAccessibilityPurpose=true;this.shouldSetChartAccessibilityStatisticalNotes=true;this.shouldSetChartAccessibilityStructureNotes=true};e.prototype.ordinalAccessorWatcher=function(e,t){this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldUpdateSeriesData=true;this.shouldUpdateTableData=true;this.shouldUpdateScales=true;this.shouldSetGlobalSelections=true;this.shouldUpdateGeometries=true;this.shouldEnterUpdateExit=true;this.shouldEnterUpdateExitMarkers=true;this.shouldUpdateMarkerSize=true;this.shouldDrawInteractionState=true;this.shouldSetLabelOpacity=true;this.shouldSetSeriesLabelOpacity=true;this.shouldSetDifferenceLabelOpacity=true;this.shouldCheckLabelAxis=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaselineX=true;this.shouldUpdateBaselineY=true;this.shouldUpdateAnnotations=true;this.shouldSetGeometryAriaLabels=true;if(!(this.interactionKeys&&this.interactionKeys.length)){this.shouldValidateInteractionKeys=true;this.shouldSetSelectionClass=true}};e.prototype.valueAccessorWatcher=function(e,t){this.shouldUpdateTableData=true;this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldUpdateSeriesData=true;this.shouldSetGlobalSelections=true;this.shouldUpdateScales=true;this.shouldUpdateGeometries=true;this.shouldDrawInteractionState=true;this.shouldEnterUpdateExit=true;this.shouldEnterUpdateExitMarkers=true;this.shouldUpdateMarkerSize=true;this.shouldSetLabelOpacity=true;this.shouldSetSeriesLabelOpacity=true;this.shouldCheckValueAxis=true;this.shouldValidateDataLabelAccessor=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaselineX=true;this.shouldUpdateBaselineY=true;this.shouldUpdateAnnotations=true;this.shouldSetGeometryAriaLabels=true};e.prototype.seriesAccessorWatcher=function(e,t){this.shouldUpdateTableData=true;this.shouldUpdateData=true;this.shouldSetGlobalSelections=true;this.shouldUpdateMarkerData=true;this.shouldUpdateSeriesData=true;this.shouldUpdateLegendData=true;this.shouldDrawInteractionState=true;this.shouldEnterUpdateExit=true;this.shouldEnterUpdateExitMarkers=true;this.shouldUpdateMarkerSize=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldAddStrokeUnder=true;this.shouldSetLabelOpacity=true;this.shouldSetSeriesLabelOpacity=true;this.shouldUpdateLegend=true;this.shouldSetGeometryAriaLabels=true;this.shouldUpdateTableData=true;if(!(this.interactionKeys&&this.interactionKeys.length)){this.shouldValidateInteractionKeys=true;this.shouldSetSelectionClass=true}};e.prototype.sortWatcher=function(e,t){this.updated=true;this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldUpdateSeriesData=true;this.shouldSetGlobalSelections=true;this.shouldSetTestingAttributes=true;this.shouldEnterUpdateExit=true;this.shouldEnterUpdateExitMarkers=true;this.shouldUpdateTableData=true;this.shouldUpdateScales=true;this.shouldUpdateGeometries=true;this.shouldUpdateLabels=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldAddStrokeUnder=true;this.shouldUpdateAnnotations=true;this.shouldSetGeometryAccessibilityAttributes=true;this.shouldSetGeometryAriaLabels=true};e.prototype.xAxisWatcher=function(e,t){var s=e&&e.gridVisible;var i=t&&t.gridVisible;var a=e&&e.tickInterval?e.tickInterval:0;var r=t&&t.tickInterval?t.tickInterval:0;var l=e&&e.format?e.format:false;var o=t&&t.format?t.format:false;var n=e&&e.unit?e.unit:false;var h=t&&t.unit?t.unit:false;if(s!==i||a!==r){this.shouldUpdateXGrid=true}if(l!==o||n!==h){this.shouldUpdateScales=true;if(n!==h){this.shouldUpdateGeometries=true;this.shouldUpdateLabels=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateAnnotations=true}}this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true};e.prototype.yAxisWatcher=function(e,t){var s=e&&e.gridVisible;var i=t&&t.gridVisible;var a=e&&e.tickInterval?e.tickInterval:0;var r=t&&t.tickInterval?t.tickInterval:0;if(s!==i||a!==r){this.shouldUpdateYGrid=true}this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true};e.prototype.wrapLabelWatcher=function(e,t){this.shouldCheckLabelAxis=true};e.prototype.layoutWatcher=function(e,t){this.shouldValidateLayout=true;this.shouldValidateDataLabelPlacement=true;this.shouldValidateSeriesLabelPlacement=true;this.shouldUpdateSeriesData=true;this.shouldValidateDiffLabelPlacement=true;this.shouldUpdateScales=true;this.shouldResetRoot=true;this.shouldUpdateGeometries=true;this.shouldUpdateXAxis=true;this.shouldUpdateYAxis=true;this.shouldUpdateXGrid=true;this.shouldUpdateYGrid=true;this.shouldUpdateLabels=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldAddStrokeUnder=true;this.shouldUpdateLegend=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaselineX=true;this.shouldUpdateBaselineY=true;this.shouldUpdateAnnotations=true;this.shouldSetGeometryAccessibilityAttributes=true};e.prototype.showBaselineXWatcher=function(e,t){this.shouldUpdateBaselineX=true};e.prototype.showBaselineYWatcher=function(e,t){this.shouldUpdateBaselineY=true};e.prototype.paletteWatcher=function(e,t){this.shouldUpdateMarkerIDs=true;this.shouldSetColors=true;this.shouldUpdateBarStyle=true;this.shouldUpdateMarkerStyle=true;this.shouldUpdateLegend=true;this.shouldUpdateLabels=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDiffLabelColor=true};e.prototype.hoverStyleWatcher=function(e,t){this.shouldUpdateMarkerIDs=true;this.shouldUpdateBarStyle=true;this.shouldUpdateMarkerSize=true;this.shouldDrawInteractionState=true;this.shouldSetSeriesLabelOpacity=true};e.prototype.clickStyleWatcher=function(e,t){this.shouldUpdateMarkerIDs=true;this.shouldUpdateBarStyle=true;this.shouldUpdateMarkerSize=true;this.shouldDrawInteractionState=true;this.shouldSetSeriesLabelOpacity=true};e.prototype.hoverOpacityWatcher=function(e,t){this.shouldDrawInteractionState=true;this.shouldSetLabelOpacity=true;this.shouldSetSeriesLabelOpacity=true;this.shouldSetDifferenceLabelOpacity=true};e.prototype.cursorWatcher=function(e,t){this.shouldUpdateCursor=true;this.shouldSetLegendCursor=true;this.shouldSetSeriesCursor=true};e.prototype.focusMarkerWatcher=function(e,t){this.shouldDrawMarkerGeometries=true;this.shouldSetGlobalSelections=true;this.shouldSetTestingAttributes=true;this.shouldUpdateMarkerIDs=true;this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldUpdateSeriesData=true;this.shouldUpdateLabels=true;var s=e&&e.sizeFromBar?e.sizeFromBar:0;var i=t&&t.sizeFromBar?t.sizeFromBar:0;if(s!==i){this.shouldUpdateMarkerSize=true}var a=e&&e.key?e.key:false;var r=t&&t.key?t.key:false;if(a!==r){this.shouldUpdateDiffLabelColor=true;this.shouldUpdateMarkerSize=true;this.shouldUpdateBarStyle=true}};e.prototype.markerWatcher=function(e,t){var s=e&&e.visible;var i=t&&t.visible;if(s!==i){this.shouldUpdateMarkerOpacity=true}var a=e&&e.type?e.type:false;var r=t&&t.type?t.type:false;if(a!==r){this.shouldRenderMarkerGroup=true;this.shouldEnterUpdateExitMarkers=true}this.shouldSetGlobalSelections=true;this.shouldSetTestingAttributes=true;this.shouldUpdateMarkerIDs=true;this.shouldUpdateMarkerData=true;this.shouldUpdateSeriesData=true;this.shouldUpdateData=true;this.shouldUpdateLabels=true;var l=e&&e.sizeFromBar?e.sizeFromBar:0;var o=t&&t.sizeFromBar?t.sizeFromBar:0;if(l!==o){this.shouldUpdateMarkerSize=true}};e.prototype.barStyleWatcher=function(e,t){this.shouldUpdateMarkerIDs=true;this.shouldUpdateBarStyle=true;this.shouldUpdateMarkerSize=true;this.shouldUpdateDiffLabelColor=true;this.shouldDrawInteractionState=true;var s=e&&e.width?e.width:0;var i=t&&t.width?t.width:0;if(s!==i){this.shouldDrawInteractionState=true;this.shouldUpdateMarkerData=true;this.shouldUpdateData=true;this.shouldUpdateMarkerSize=true;this.shouldUpdateGeometries=true;this.shouldUpdateLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldUpdateSeriesLabels=true}};e.prototype.dataLabelWatcher=function(e,t){this.shouldUpdateLabels=true;this.shouldUpdateTableData=true;var s=e&&e.placement?e.placement:false;var i=t&&t.placement?t.placement:false;var a=e&&e.visible;var r=t&&t.visible;var l=e&&e.labelAccessor?e.labelAccessor:false;var o=t&&t.labelAccessor?t.labelAccessor:false;if(a!==r){this.shouldSetLabelOpacity=true}if(s!==i){this.shouldValidateDataLabelPlacement=true}if(l!==o){this.shouldValidateDataLabelAccessor=true}};e.prototype.seriesLabelWatcher=function(e,t){this.shouldValidateSeriesLabelPlacement=true;this.shouldUpdateSeriesLabels=true;this.shouldAddStrokeUnder=true;this.shouldUpdateTableData=true;var s=e&&e.visible;var i=t&&t.visible;if(s!==i){this.shouldSetSeriesLabelOpacity=true}var a=e&&e.placement?e.placement:false;var r=t&&t.placement?t.placement:false;if(a!==r){this.shouldUpdateSeriesData=true;this.shouldSetSeriesSelections=true}};e.prototype.differenceLabelWatcher=function(e,t){this.shouldUpdateDifferenceLabels=true;this.shouldUpdateDiffLabelColor=true;this.shouldAddStrokeUnder=true;this.shouldUpdateTableData=true;var s=e&&e.visible;var i=t&&t.visible;if(s!==i){this.shouldSetDifferenceLabelOpacity=true}var a=e&&e.placement?e.placement:false;var r=t&&t.placement?t.placement:false;if(a!==r){this.shouldValidateDiffLabelPlacement=true}};e.prototype.showTooltipWatcher=function(e,t){this.shouldDrawInteractionState=true};e.prototype.tooltipLabelWatcher=function(e,t){this.shouldUpdateTableData=true};e.prototype.accessibilityWatcher=function(e,t){this.shouldValidate=true;var s=e&&e.title?e.title:false;var i=t&&t.title?t.title:false;if(s!==i){this.shouldUpdateDescriptionWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetParentSVGAccessibility=true}var a=e&&e.executiveSummary?e.executiveSummary:false;var r=t&&t.executiveSummary?t.executiveSummary:false;if(a!==r){this.shouldSetChartAccessibilityExecutiveSummary=true}var l=e&&e.purpose?e.purpose:false;var o=t&&t.purpose?t.purpose:false;if(l!==o){this.shouldSetChartAccessibilityPurpose=true}var n=e&&e.longDescription?e.longDescription:false;var h=t&&t.longDescription?t.longDescription:false;if(n!==h){this.shouldSetChartAccessibilityLongDescription=true}var c=e&&e.contextExplanation?e.contextExplanation:false;var u=t&&t.contextExplanation?t.contextExplanation:false;if(c!==u){this.shouldSetChartAccessibilityContext=true}var d=e&&e.statisticalNotes?e.statisticalNotes:false;var p=t&&t.statisticalNotes?t.statisticalNotes:false;if(d!==p){this.shouldSetChartAccessibilityStatisticalNotes=true}var f=e&&e.structureNotes?e.structureNotes:false;var b=t&&t.structureNotes?t.structureNotes:false;if(f!==b){this.shouldSetChartAccessibilityStructureNotes=true}var y=e&&e.includeDataKeyNames;var v=t&&t.includeDataKeyNames;var m=e&&e.elementDescriptionAccessor?e.elementDescriptionAccessor:false;var S=t&&t.elementDescriptionAccessor?t.elementDescriptionAccessor:false;if(y!==v||m!==S){if(y!==v){this.shouldSetGroupAccessibilityLabel=true}this.shouldSetGeometryAriaLabels=true;this.shouldSetParentSVGAccessibility=true}var g=e&&e.hideStrokes?e.hideStrokes:false;var L=t&&t.hideStrokes?t.hideStrokes:false;if(g!==L){this.shouldUpdateBarStyle=true;this.shouldUpdateMarkerStyle=true;this.shouldAddStrokeUnder=true;this.shouldUpdateLegend=true}var D=e&&e.keyboardNavConfig&&e.keyboardNavConfig.disabled?e.keyboardNavConfig.disabled:false;var A=t&&t.keyboardNavConfig&&t.keyboardNavConfig.disabled?t.keyboardNavConfig.disabled:false;var k=e&&e.elementsAreInterface?e.elementsAreInterface:false;var x=t&&t.elementsAreInterface?t.elementsAreInterface:false;if(D!==A||k!==x){this.shouldSetGeometryAriaLabels=true;this.shouldSetParentSVGAccessibility=true;this.shouldUpdateDescriptionWrapper=true;this.shouldRedrawWrapper=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetChartAccessibilityLongDescription=true;this.shouldSetChartAccessibilityContext=true;this.shouldSetChartAccessibilityExecutiveSummary=true;this.shouldSetChartAccessibilityPurpose=true;this.shouldSetChartAccessibilityStatisticalNotes=true;this.shouldSetChartAccessibilityStructureNotes=true}if(k!==x){this.shouldSetSelectionClass=true}};e.prototype.legendWatcher=function(e,t){this.shouldUpdateLegend=true;var s=e&&e.interactive;var i=t&&t.interactive;if(s!==i){this.shouldBindLegendInteractivity=true;this.shouldSetLegendCursor=true}};e.prototype.annotationsWatcher=function(e,t){this.shouldValidate=true;this.shouldUpdateAnnotations=true;this.shouldSetAnnotationAccessibility=true};e.prototype.valueOverrideWatcher=function(e,t){this.shouldUpdateScales=true;this.shouldUpdateGeometries=true;this.shouldCheckValueAxis=true;this.shouldUpdateLabels=true;this.shouldUpdateSeriesLabels=true;this.shouldUpdateDifferenceLabels=true;this.shouldUpdateReferenceLines=true;this.shouldUpdateBaselineX=true;this.shouldUpdateBaselineY=true;this.shouldUpdateAnnotations=true};e.prototype.referenceWatcher=function(e,t){this.shouldUpdateReferenceLines=true};e.prototype.suppressWatcher=function(e,t){this.shouldBindInteractivity=true;this.shouldBindLegendInteractivity=true;this.shouldBindSeriesInteractivity=true;this.shouldUpdateCursor=true;this.shouldSetLegendCursor=true;this.shouldSetSeriesCursor=true;this.shouldSetGeometryAriaLabels=true;this.shouldSetParentSVGAccessibility=true;this.shouldUpdateDescriptionWrapper=true;this.shouldRedrawWrapper=true;this.shouldValidate=true;this.shouldSetChartAccessibilityTitle=true;this.shouldSetChartAccessibilitySubtitle=true;this.shouldSetChartAccessibilityLongDescription=true;this.shouldSetChartAccessibilityContext=true;this.shouldSetChartAccessibilityExecutiveSummary=true;this.shouldSetChartAccessibilityPurpose=true;this.shouldSetChartAccessibilityStatisticalNotes=true;this.shouldSetChartAccessibilityStructureNotes=true};e.prototype.hoverWatcher=function(e,t){this.shouldUpdateMarkerIDs=true;this.shouldDrawInteractionState=true;this.shouldUpdateMarkerSize=true;this.shouldUpdateMarkerStyle=true;this.shouldSetLabelOpacity=true;this.shouldSetSeriesLabelOpacity=true;this.shouldSetDifferenceLabelOpacity=true;this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldSetGlobalSelections=true};e.prototype.clickWatcher=function(e,t){this.shouldUpdateMarkerIDs=true;this.shouldDrawInteractionState=true;this.shouldUpdateMarkerSize=true;this.shouldUpdateMarkerStyle=true;this.shouldSetLabelOpacity=true;this.shouldSetSelectionClass=true;this.shouldSetSeriesLabelOpacity=true;this.shouldSetDifferenceLabelOpacity=true;this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldSetGlobalSelections=true};e.prototype.interactionWatcher=function(e,t){this.shouldValidateInteractionKeys=true;this.shouldUpdateMarkerSize=true;this.shouldDrawInteractionState=true;this.shouldUpdateMarkerStyle=true;this.shouldSetLabelOpacity=true;this.shouldSetSeriesLabelOpacity=true;this.shouldSetDifferenceLabelOpacity=true;this.shouldSetSelectionClass=true;this.shouldSetGeometryAriaLabels=true;this.shouldUpdateTableData=true;this.shouldUpdateData=true;this.shouldUpdateMarkerData=true;this.shouldSetGlobalSelections=true;var s=e&&e.length===1?e[0]===this.seriesAccessor:false;var i=t&&t.length===1?t[0]===this.seriesAccessor:false;if(s!==i){this.shouldBindSeriesInteractivity=true;this.shouldSetSeriesCursor=true;this.shouldBindLegendInteractivity=true;this.shouldSetLegendCursor=true}};e.prototype.unitTestWatcher=function(e,t){this.shouldSetTestingAttributes=true};e.prototype.componentWillLoad=function(){var e=this;var t=this.uniqueID||"dumbbell-plot-"+v4();this.initialLoadEvent.emit({chartID:t});return new Promise((function(s){e.duration=0;e.chartID=t;e.dumbbellPlotEl.id=e.chartID;e.setTagLevels();e.checkIfSafari();e.validateLayout();e.validateDataLabelPlacement();e.validateSeriesLabelPlacement();e.validateDiffLabelPlacement();e.validateInteractionKeys();e.prepareData();e.prepareMarkerData();e.prepareSeriesData();e.prepareLegendData();e.setLayoutData();e.prepareScales();e.validateDataLabelAccessor();e.setTableData();e.shouldValidateAccessibilityProps();e.setColors();s("component will load")}))};e.prototype.componentWillUpdate=function(){return new Promise((function(e){e("component will update")}))};e.prototype.componentDidLoad=function(){var e=this;return new Promise((function(t){e.defaults=true;e.shouldValidateAccessibilityProps();e.renderRootElements();e.setTooltipInitialStyle();e.setChartDescriptionWrapper();e.setChartAccessibilityTitle();e.setChartAccessibilitySubtitle();e.setChartAccessibilityLongDescription();e.setChartAccessibilityExecutiveSummary();e.setChartAccessibilityPurpose();e.setChartAccessibilityContext();e.setChartAccessibilityStatisticalNotes();e.setChartAccessibilityStructureNotes();e.setParentSVGAccessibility();e.reSetRoot();e.drawXGrid();e.drawYGrid();e.renderMarkerGroup();e.setGlobalSelections();e.setTestingAttributes();e.enterMarkerGeometries();e.updateMarkerGeometries();e.exitMarkerGeometries();e.updateMarkerSize();e.enterDumbbells();e.updateDumbbells();e.exitDumbbells();e.enterSeriesLabels();e.updateSeriesLabels();e.exitSeriesLabels();e.enterDataLabels();e.updateDataLabels();e.exitDataLabels();e.enterDifferenceLabels();e.updateDifferenceLabels();e.exitDifferenceLabels();e.updateMarkerIds();e.drawDumbbells();e.updateInteractionState();e.setChartCountAccessibility();e.setGeometryAccessibilityAttributes();e.setGeometryAriaLabels();e.drawLegendElements();e.drawDataLabels();e.drawSeriesLabels();e.drawDifferenceLabels();e.addStrokeUnder();e.drawReferenceLines();e.setSelectedClass();e.setLabelOpacity();e.bindLegendInteractivity();e.setLegendCursor();e.drawAnnotations();e.setAnnotationAccessibility();e.drawXAxis();e.setXAxisAccessibility();e.drawYAxis();e.setYAxisAccessibility();e.drawBaselineX();e.drawBaselineY();e.onChangeHandler();hideNonessentialGroups(e.root.node(),e.dumbbellG.node());e.setGroupAccessibilityAttributes();e.setGroupAccessibilityID();e.defaults=false;t("component did load")}))};e.prototype.componentDidUpdate=function(){var e=this;return new Promise((function(t){e.duration=!e.animationConfig||!e.animationConfig.disabled?750:0;if(e.shouldUpdateDescriptionWrapper){e.setChartDescriptionWrapper();e.shouldUpdateDescriptionWrapper=false}if(e.shouldSetChartAccessibilityCount){e.setChartCountAccessibility();e.shouldSetChartAccessibilityCount=false}if(e.shouldSetChartAccessibilityTitle){e.setChartAccessibilityTitle();e.shouldSetChartAccessibilityTitle=false}if(e.shouldSetChartAccessibilitySubtitle){e.setChartAccessibilitySubtitle();e.shouldSetChartAccessibilitySubtitle=false}if(e.shouldSetChartAccessibilityLongDescription){e.setChartAccessibilityLongDescription();e.shouldSetChartAccessibilityLongDescription=false}if(e.shouldSetChartAccessibilityExecutiveSummary){e.setChartAccessibilityExecutiveSummary();e.shouldSetChartAccessibilityExecutiveSummary=false}if(e.shouldSetChartAccessibilityPurpose){e.setChartAccessibilityPurpose();e.shouldSetChartAccessibilityPurpose=false}if(e.shouldSetChartAccessibilityContext){e.setChartAccessibilityContext();e.shouldSetChartAccessibilityContext=false}if(e.shouldSetChartAccessibilityStatisticalNotes){e.setChartAccessibilityStatisticalNotes();e.shouldSetChartAccessibilityStatisticalNotes=false}if(e.shouldSetChartAccessibilityStructureNotes){e.setChartAccessibilityStructureNotes();e.shouldSetChartAccessibilityStructureNotes=false}if(e.shouldSetParentSVGAccessibility){e.setParentSVGAccessibility();e.shouldSetParentSVGAccessibility=false}if(e.shouldResetRoot){e.reSetRoot();e.shouldResetRoot=false}if(e.shouldRenderMarkerGroup){e.renderMarkerGroup();e.shouldRenderMarkerGroup=false}if(e.shouldSetGlobalSelections){e.setGlobalSelections();e.shouldSetGlobalSelections=false}if(e.shouldSetSeriesSelections){e.setSeriesSelections();e.shouldSetSeriesSelections=false}if(e.shouldSetTestingAttributes){e.setTestingAttributes();e.shouldSetTestingAttributes=false}if(e.shouldUpdateXGrid){e.drawXGrid();e.shouldUpdateXGrid=false}if(e.shouldUpdateYGrid){e.drawYGrid();e.shouldUpdateYGrid=false}if(e.shouldEnterUpdateExitMarkers){e.enterMarkerGeometries();e.updateMarkerGeometries();e.exitMarkerGeometries();e.shouldEnterUpdateExitMarkers=false;e.shouldUpdateMarkerOpacity=false}if(e.shouldUpdateMarkerOpacity){e.updateMarkerGeometries();e.shouldUpdateMarkerOpacity=false}if(e.shouldEnterUpdateExit){e.enterDumbbells();e.updateDumbbells();e.exitDumbbells();e.enterSeriesLabels();e.updateSeriesLabels();e.exitSeriesLabels();e.enterDataLabels();e.updateDataLabels();e.exitDataLabels();e.enterDifferenceLabels();e.updateDifferenceLabels();e.exitDifferenceLabels();e.shouldEnterUpdateExit=false}if(e.shouldUpdateMarkerIDs){e.updateMarkerIds();e.shouldUpdateMarkerIDs=false}if(e.shouldUpdateGeometries){e.drawDumbbells();e.shouldUpdateGeometries=false}if(e.shouldUpdateBarStyle){e.updateBarStyle();e.shouldUpdateBarStyle=false}if(e.shouldUpdateMarkerStyle){e.updateMarkerStyle();e.shouldUpdateMarkerStyle=false}if(e.shouldUpdateMarkerSize){e.updateMarkerSize();e.shouldUpdateMarkerSize=false}if(e.shouldDrawMarkerGeometries){e.drawMarkerGeometries();e.shouldDrawMarkerGeometries=false}if(e.shouldSetGeometryAccessibilityAttributes){e.setGeometryAccessibilityAttributes();e.shouldSetGeometryAccessibilityAttributes=false}if(e.shouldSetGeometryAriaLabels){e.setGeometryAriaLabels();e.shouldSetGeometryAriaLabels=false}if(e.shouldSetGroupAccessibilityLabel){e.setGroupAccessibilityID();e.shouldSetGroupAccessibilityLabel=false}if(e.shouldUpdateLegend){e.drawLegendElements();e.shouldUpdateLegend=false}if(e.shouldUpdateLabels){e.drawDataLabels();e.shouldUpdateLabels=false}if(e.shouldUpdateSeriesLabels){e.drawSeriesLabels();e.shouldUpdateSeriesLabels=false}if(e.shouldUpdateDifferenceLabels){e.drawDifferenceLabels();e.shouldUpdateDifferenceLabels=false}if(e.shouldAddStrokeUnder){e.addStrokeUnder();e.shouldAddStrokeUnder=false}if(e.shouldUpdateReferenceLines){e.drawReferenceLines();e.shouldUpdateReferenceLines=false}if(e.shouldSetLabelOpacity){e.setLabelOpacity();e.shouldSetLabelOpacity=false}if(e.shouldSetSeriesLabelOpacity){e.setSeriesLabelOpacity();e.shouldSetSeriesLabelOpacity=false}if(e.shouldSetDifferenceLabelOpacity){e.setDifferenceLabelOpacity();e.shouldSetDifferenceLabelOpacity=false}if(e.shouldUpdateDiffLabelColor){e.updateDiffLabelColor();e.shouldUpdateDiffLabelColor=false}if(e.shouldDrawInteractionState){e.updateInteractionState();e.shouldDrawInteractionState=false}if(e.shouldSetSelectionClass){e.setSelectedClass();e.shouldSetSelectionClass=false}if(e.shouldBindLegendInteractivity){e.bindLegendInteractivity();e.shouldBindLegendInteractivity=false}if(e.shouldBindSeriesInteractivity){e.bindSeriesInteractivity();e.shouldBindSeriesInteractivity=false}if(e.shouldSetLegendCursor){e.setLegendCursor();e.shouldSetLegendCursor=false}if(e.shouldSetSeriesCursor){e.setSeriesCursor();e.shouldSetSeriesCursor=false}if(e.shouldUpdateCursor){e.updateCursor();e.shouldUpdateCursor=false}if(e.shouldBindInteractivity){e.bindInteractivity();e.shouldBindInteractivity=false}if(e.shouldUpdateAnnotations){e.drawAnnotations();e.shouldUpdateAnnotations=false}if(e.shouldSetAnnotationAccessibility){e.setAnnotationAccessibility();e.shouldSetAnnotationAccessibility=false}if(e.shouldUpdateXAxis){e.drawXAxis();e.shouldUpdateXAxis=false}if(e.shouldSetXAxisAccessibility){e.setXAxisAccessibility();e.shouldSetXAxisAccessibility=false}if(e.shouldUpdateYAxis){e.drawYAxis();e.shouldUpdateYAxis=false}if(e.shouldSetYAxisAccessibility){e.setYAxisAccessibility();e.shouldSetYAxisAccessibility=false}if(e.shouldUpdateBaselineX){e.drawBaselineX();e.shouldUpdateBaseline=false}if(e.shouldUpdateBaselineY){e.drawBaselineY();e.shouldUpdateBaseline=false}e.onChangeHandler();t("component did update")})).then((function(){return e.drawEndEvent.emit({chartID:e.chartID})}))};e.prototype.shouldValidateAccessibilityProps=function(){if(this.shouldValidateAccessibility&&!this.accessibility.disableValidation){this.shouldValidateAccessibility=false;validateAccessibilityProps(this.chartID,Object.assign({},this.accessibility),{annotations:this.annotations,data:this.data,uniqueID:this.uniqueID,context:{mainTitle:this.mainTitle,onClickEvent:this.suppressEvents?undefined:this.clickEvent.emit}})}};e.prototype.validateInteractionKeys=function(){this.innerInteractionKeys=this.interactionKeys&&this.interactionKeys.length?this.interactionKeys:[this.ordinalAccessor];this.seriesInteraction=this.innerInteractionKeys.length===1&&this.innerInteractionKeys[0]===this.seriesAccessor;this.dumbbellInteraction=this.innerInteractionKeys.length===1&&this.innerInteractionKeys[0]===this.ordinalAccessor};e.prototype.validateDataLabelAccessor=function(){this.innerLabelAccessor=this.dataLabel.labelAccessor?this.dataLabel.labelAccessor:this.valueAccessor};e.prototype.validateLayout=function(){this.layoutOverride=!this.layout||this.data[0][this.ordinalAccessor]instanceof Date?"vertical":this.layout;this.isVertical=this.layoutOverride==="vertical"};e.prototype.validateDataLabelPlacement=function(){this.placement=this.dataLabel.placement;if(this.isVertical){if(this.placement!=="left"&&this.placement!=="right"&&this.placement!=="auto"){this.placement="ends"}}else{if(this.placement!=="top"&&this.placement!=="bottom"&&this.placement!=="auto"){this.placement="ends"}}};e.prototype.validateSeriesLabelPlacement=function(){this.seriesLabelDetails=Object.assign({},this.seriesLabel);if(!this.seriesLabelDetails.placement){this.seriesLabelDetails.placement=this.isVertical?"right":"top"}if(this.isVertical&&(this.seriesLabelDetails.placement!=="right"&&this.seriesLabelDetails.placement!=="left"&&this.seriesLabelDetails.placement!=="auto")){this.seriesLabelDetails.placement="right"}else if(!this.isVertical&&(this.seriesLabelDetails.placement!=="top"&&this.seriesLabelDetails.placement!=="bottom"&&this.seriesLabelDetails.placement!=="auto")){this.seriesLabelDetails.placement="top"}if(!this.seriesLabelDetails.label||!this.seriesLabelDetails.label.length){this.seriesLabelDetails.label=""}};e.prototype.validateDiffLabelPlacement=function(){this.diffLabelDetails=Object.assign({},this.differenceLabel);if(!this.diffLabelDetails.placement){this.diffLabelDetails.placement=this.isVertical?"left":"top"}if(this.isVertical&&(this.diffLabelDetails.placement!=="right"&&this.diffLabelDetails.placement!=="left"&&this.diffLabelDetails.placement!=="auto")){this.diffLabelDetails.placement="left"}else if(!this.isVertical&&(this.diffLabelDetails.placement!=="top"&&this.diffLabelDetails.placement!=="bottom"&&this.diffLabelDetails.placement!=="auto")){this.diffLabelDetails.placement="top"}};e.prototype.checkIfSafari=function(){this.url=createUrl()};e.prototype.setColors=function(){var e=this;this.colors=this.colors?convertVisaColor(this.colors):"";this.rawColors=this.colors||getColors(this.colorPalette,3);this.colorArr=this.rawColors;this.textColors={};this.strokes={};this.rawColors.forEach((function(t){if(!e.accessibility.hideStrokes){var s=getAccessibleStrokes(t);var i=s.length===2?s[1]:s[0];e.strokes[t.toLowerCase()]=i}e.textColors[t.toLowerCase()]=ensureTextContrast(t,"#ffffff",4.5)}));if(this.hoverStyle&&this.hoverStyle.color){if(!this.accessibility.hideStrokes){var t=getAccessibleStrokes(this.hoverStyle.color);var s=t.length===2?t[1]:t[0];this.strokes[this.hoverStyle.color.toLowerCase()]=s}this.textColors[this.hoverStyle.color.toLowerCase()]=ensureTextContrast(this.hoverStyle.color,"#ffffff",4.5)}if(this.clickStyle&&this.clickStyle.color){if(!this.accessibility.hideStrokes){var t=getAccessibleStrokes(this.clickStyle.color);var s=t.length===2?t[1]:t[0];this.strokes[this.clickStyle.color.toLowerCase()]=s}this.textColors[this.clickStyle.color.toLowerCase()]=ensureTextContrast(this.clickStyle.color,"#ffffff",4.5)}};e.prototype.setLayoutData=function(){this.padding=typeof this.padding==="string"?getPadding(this.padding):this.padding;this.innerHeight=this.height-this.margin.top-this.margin.bottom;this.innerWidth=this.width-this.margin.left-this.margin.right;this.innerPaddedHeight=this.innerHeight-this.padding.top-this.padding.bottom;this.innerPaddedWidth=this.innerWidth-this.padding.left-this.padding.right};e.prototype.setTableData=function(){var e=scopeDataKeys(this,chartAccessors,"dumbbell-plot");this.tableData=getScopedData(this.data,e);this.tableColumns=Object.keys(e)};e.prototype.prepareData=function(){var e=this;var t=nest().key((function(t){return t[e.ordinalAccessor]})).entries(this.data);t.forEach((function(t){t.focusMarker=false;t.greaterIndex=1;var s="marker";var i="marker";if(t.values[0][e.seriesAccessor]===e.focusMarker.key){t.focusMarker=0;s="focusMarker"}else if(t.values[1][e.seriesAccessor]===e.focusMarker.key){t.focusMarker=1;i="focusMarker"}var a=checkClicked(t.values[0],e.clickHighlight,e.innerInteractionKeys)?parseFloat(e.clickStyle.strokeWidth+"")||e.barStyle.width:checkHovered(t.values[0],e.hoverHighlight,e.innerInteractionKeys)?parseFloat(e.hoverStyle.strokeWidth+"")||e.barStyle.width:e.barStyle.width;var r=checkClicked(t.values[1],e.clickHighlight,e.innerInteractionKeys)?parseFloat(e.clickStyle.strokeWidth+"")||e.barStyle.width:checkHovered(t.values[1],e.hoverHighlight,e.innerInteractionKeys)?parseFloat(e.hoverStyle.strokeWidth+"")||e.barStyle.width:e.barStyle.width;t.values[0].offset=t.focusMarker!==0&&!e.marker.visible?1:e.marker.type==="dot"?e[s].sizeFromBar*(a+1)/2:e.marker.type==="stroke"?e[s].sizeFromBar*(a+1)/5:!t.focusMarker?e[s].sizeFromBar*(a+1)/2:e[s].sizeFromBar*(a+1)/5;t.values[1].offset=t.focusMarker!==1&&!e.marker.visible?-1:e.marker.type==="dot"?-(e[i].sizeFromBar*(r+1))/2:e.marker.type==="stroke"?-(e[i].sizeFromBar*(r+1))/5:t.focusMarker?-(e[i].sizeFromBar*(r+1))/2:-(e[i].sizeFromBar*(r+1))/5;if(t.values[0][e.valueAccessor]>=t.values[1][e.valueAccessor]){t.greaterIndex=0;t.values[0].offset=-t.values[0].offset;t.values[1].offset=-t.values[1].offset}}));var s=function(t){var s={absoluteDiff:"Absolute Difference ",difference:"Difference "};var i=e.differenceLabel&&e.differenceLabel.calculation&&s[e.differenceLabel.calculation]?e.differenceLabel.calculation:"difference";var a=e.differenceLabel&&e.differenceLabel.format&&e.differenceLabel.visible?e.differenceLabel.format:e.differenceLabel&&e.dataLabel.format&&e.dataLabel.visible?e.dataLabel.format:"0[.][0][0]a";return s[i]+formatDataLabel(t,i,a)};this.nest=t.sort((function(t,i){t.difference=t.values[0][e.valueAccessor]-t.values[1][e.valueAccessor];i.difference=i.values[0][e.valueAccessor]-i.values[1][e.valueAccessor];t.absoluteDiff=Math.abs(t.difference);i.absoluteDiff=Math.abs(i.difference);t.middle=(t.values[0][e.valueAccessor]+t.values[1][e.valueAccessor])/2;i.middle=(i.values[0][e.valueAccessor]+i.values[1][e.valueAccessor])/2;t.message=s(t);i.message=s(i);var a=t.focusMarker!==false?t.focusMarker:0;return t.values[0][e.ordinalAccessor]instanceof Date?0:e.sortOrder==="asc"||e.sortOrder==="diffAsc"?t.difference-i.difference:e.sortOrder==="desc"||e.sortOrder==="diffDesc"?i.difference-t.difference:e.sortOrder==="focusAsc"?t.values[a][e.valueAccessor]-i.values[a][e.valueAccessor]:e.sortOrder==="focusDesc"?i.values[a][e.valueAccessor]-t.values[a][e.valueAccessor]:e.sortOrder==="absoluteDiffAsc"?t.absoluteDiff-i.absoluteDiff:e.sortOrder==="absoluteDiffDesc"?i.absoluteDiff-t.absoluteDiff:0}))};e.prototype.prepareMarkerData=function(){this.markerData=[];var e={focus:false,label:this.nest[0].values[0][this.seriesAccessor]};var t={focus:false,label:this.nest[0].values[1][this.seriesAccessor]};if(this.nest[0].focusMarker){t.focus=true}else if(this.nest[0].focusMarker===0){e.focus=true}var s=Object.assign(Object.assign({},e),{limitOpacity:true});var i=Object.assign(Object.assign({},t),{limitOpacity:true});var a=Object.assign({},e);var r=Object.assign({},t);this.markerData.push(e);this.markerData.push(t);this.markerData.push(s);this.markerData.push(i);this.markerData.push(a);this.markerData.push(r);var l=0;this.markerData.forEach((function(e){e.index=l;e.referenceIndex=l<2?l:l<4?l-2:l-4;l++}))};e.prototype.prepareSeriesData=function(){var e,t;var s=this.seriesLabelDetails.placement==="auto";var i=this.isVertical?"right":"top";var a=s?true:this.seriesLabelDetails.placement.includes(i);var r=(e={label:this.nest[0].values[0][this.seriesAccessor]},e[this.seriesAccessor]=this.nest[0].values[0][this.seriesAccessor],e.value=a?this.nest[this.nest.length-1].values[0][this.valueAccessor]:this.nest[0].values[0][this.valueAccessor],e);var l=(t={label:this.nest[0].values[1][this.seriesAccessor]},t[this.seriesAccessor]=this.nest[0].values[1][this.seriesAccessor],t.value=a?this.nest[this.nest.length-1].values[1][this.valueAccessor]:this.nest[0].values[1][this.valueAccessor],t);this.seriesData=[r,l]};e.prototype.prepareLegendData=function(){var e,t;var s=(e={label:this.nest[0].values[0][this.seriesAccessor]},e[this.seriesAccessor]=this.nest[0].values[0][this.seriesAccessor],e);var i=(t={label:this.nest[0].values[1][this.seriesAccessor]},t[this.seriesAccessor]=this.nest[0].values[1][this.seriesAccessor],t);this.legendData=[s,i];this.ordinalLabel=this.legendData.map((function(e){return e.label}))};e.prototype.prepareScales=function(){var e=this;var t=min(this.data,(function(t){return parseFloat(t[e.valueAccessor])}));var s=max(this.data,(function(t){return parseFloat(t[e.valueAccessor])}));if(this.isVertical){this.xAccessor=this.ordinalAccessor;this.yAccessor=this.valueAccessor;this.y=linear().domain([this.minValueOverride||this.minValueOverride===0?this.minValueOverride:t-(s-t)*.15,this.maxValueOverride||this.maxValueOverride===0?this.maxValueOverride:s+(s-t)*.15]).range([this.innerPaddedHeight,0]);if(this.data[0][this.ordinalAccessor]instanceof Date){var i=max(this.data,(function(t){return t[e.ordinalAccessor]}));var a=min(this.data,(function(t){return t[e.ordinalAccessor]}));this.x=scaleTime().domain([a,i]).range([0,this.innerPaddedWidth]);if(this.xAxis.unit){var r=this.time["time"+this.xAxis.unit];this.x.domain([r.offset(a,-1),r.offset(i,+1)])}}else{this.x=point().domain(this.nest.map((function(e){return e.key}))).padding(.5).range([0,this.innerPaddedWidth])}}else if(!this.isVertical){this.xAccessor=this.valueAccessor;this.yAccessor=this.ordinalAccessor;this.x=linear().domain([this.minValueOverride||this.minValueOverride===0?this.minValueOverride:t-(s-t)*.15,this.maxValueOverride||this.maxValueOverride===0?this.maxValueOverride:s+(s-t)*.15]).range([0,this.innerPaddedWidth]);this.y=point().domain(this.nest.map((function(e){return e.key}))).padding(.5).range([this.innerPaddedHeight,0])}};e.prototype.addStrokeUnder=function(){var e=createTextStrokeFilter({root:this.svg.node(),id:this.chartID,color:"#ffffff"});this.seriesLabelWrapper.selectAll("text").attr("filter",!this.accessibility.hideStrokes?e:null);this.diffLabelWrapper.attr("filter",!this.accessibility.hideStrokes?e:null);this.labels.attr("filter",!this.accessibility.hideStrokes?e:null);this.labels.attr("filter",!this.accessibility.hideStrokes?e:null);this.dumbbellG.attr("filter",!this.accessibility.hideStrokes?e:null)};e.prototype.renderRootElements=function(){this.svg=select(this.dumbbellPlotEl).select(".visa-viz-d3-dumbbell-container").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height);this.root=this.svg.append("g").attr("id","visa-viz-margin-container-g-"+this.chartID);this.rootG=this.root.append("g").attr("id","visa-viz-padding-container-g-"+this.chartID);this.defs=this.rootG.append("defs");this.baselineG=this.rootG.append("g").attr("class","baseline-group");this.gridG=this.rootG.append("g").attr("class","gridline-group");this.dumbbellG=this.rootG.append("g").attr("class","dumbbell-group");this.seriesLabelWrapper=this.rootG.select(".dumbbell-series-wrapper");this.seriesLabelWrapper=this.rootG.append("g").attr("class","dumbbell-series-wrapper");this.diffLabelWrapper=this.rootG.select(".dumbbell-diff-label-wrapper");this.diffLabelWrapper=this.rootG.append("g").attr("class","dumbbell-diff-label-wrapper");this.legendG=select(this.dumbbellPlotEl).select(".dumbbell-legend").append("svg");this.tooltipG=select(this.dumbbellPlotEl).select(".dumbbell-tooltip");this.labels=this.rootG.append("g").attr("class","dumbbell-dataLabel-group");this.references=this.rootG.append("g").attr("class","dumbbell-reference-line-group")};e.prototype.renderMarkerGroup=function(){this.markerG=this.defs.select("."+this.marker.type+"markers");if(!this.markerG.node()){this.defs.selectAll("g").remove();this.markerG=this.defs.append("g").attr("class",this.marker.type+"markers")}};e.prototype.setSeriesSelections=function(){var e=this.seriesLabelWrapper.selectAll(".dumbbell-series-label").data(this.seriesData,(function(e){return e.label}));this.enterSeriesLabel=e.enter().append("text");this.exitSeriesLabel=e.exit();this.updateSeriesLabel=e.merge(this.enterSeriesLabel)};e.prototype.setGlobalSelections=function(){var e=this;var t=this.dumbbellG.selectAll(".dumbbell-plot").data(this.nest,(function(e){return e.key}));this.enter=t.enter().append("path");this.exit=t.exit();this.update=t.merge(this.enter);this.exitSize=this.exit.size();this.enterSize=this.enter.size();var s=this.markerG.selectAll("marker").data(this.markerData,(function(e,t){return e.label+t}));this.enterMarkers=s.enter().append("marker");this.exitMarkers=s.exit();this.updateMarkers=s.merge(this.enterMarkers);this.setSeriesSelections();var i=this.diffLabelWrapper.selectAll(".dumbbell-diff-label").data(this.nest,(function(e){return e.key}));this.enterDiffLabel=i.enter().append("text");this.exitDiffLabel=i.exit();this.updateDiffLabel=i.merge(this.enterDiffLabel);var a=this.labels.selectAll("g").data(this.nest,(function(e){return e.key}));this.enterLabels=a.enter().append("g");this.exitLabels=a.exit();this.updateLabels=a.merge(this.enterLabels);var r=this.updateLabels.selectAll(".dumbbell-dataLabel").data((function(e){return[e.values[0],e.values[1]]}),(function(t){return t[e.seriesAccessor]}));this.enterLabelChildren=r.enter().append("text");this.exitLabelChildren=r.exit();this.updateLabelChildren=r.merge(this.enterLabelChildren)};e.prototype.setTestingAttributes=function(){var e=this;if(this.unitTest){select(this.dumbbellPlotEl).select(".visa-viz-d3-dumbbell-container").attr("data-testid","chart-container");select(this.dumbbellPlotEl).select(".dumbbell-main-title").attr("data-testid","main-title");select(this.dumbbellPlotEl).select(".dumbbell-sub-title").attr("data-testid","sub-title");this.svg.attr("data-testid","root-svg");this.root.attr("data-testid","margin-container");this.rootG.attr("data-testid","padding-container");this.legendG.attr("data-testid","legend-container");this.tooltipG.attr("data-testid","tooltip-container");this.dumbbellG.attr("data-testid","dumbbell-group");this.baselineG.attr("data-testid","baseline-group");this.references.attr("data-testid","reference-line-group");this.updateLabels.attr("data-testid","dataLabel-wrapper");this.updateLabelChildren.attr("data-testid","dataLabel").attr("data-id",(function(t){return"label-".concat(t[e.ordinalAccessor],"-").concat(t[e.seriesAccessor])}));this.updateDiffLabel.attr("data-testid","difference-label").attr("data-id",(function(e){return"difference-label-".concat(e.key)}));this.updateSeriesLabel.attr("data-testid","series-label");this.updateMarkers.attr("data-testid","marker");this.update.attr("data-testid","line").attr("data-id",(function(e){return"line-".concat(e.key)}))}else{select(this.dumbbellPlotEl).select(".visa-viz-d3-dumbbell-container").attr("data-testid",null);select(this.dumbbellPlotEl).select(".dumbbell-main-title").attr("data-testid",null);select(this.dumbbellPlotEl).select(".dumbbell-sub-title").attr("data-testid",null);this.svg.attr("data-testid",null);this.root.attr("data-testid",null);this.rootG.attr("data-testid",null);this.legendG.attr("data-testid",null);this.tooltipG.attr("data-testid",null);this.dumbbellG.attr("data-testid",null);this.baselineG.attr("data-testid",null);this.references.attr("data-testid",null);this.updateLabels.attr("data-testid",null);this.updateLabelChildren.attr("data-testid",null).attr("data-id",null);this.updateDiffLabel.attr("data-testid",null).attr("data-id",null);this.updateSeriesLabel.attr("data-testid",null);this.updateMarkers.attr("data-testid",null);this.update.attr("data-testid",null).attr("data-id",null)}};e.prototype.reSetRoot=function(){var e=prepareRenderChange({selection:this.svg,duration:this.duration,namespace:"root_reset",easing:circleIn});e.attr("width",this.width).attr("height",this.height).attr("viewBox","0 0 "+this.width+" "+this.height);var t=prepareRenderChange({selection:this.root,duration:this.duration,namespace:"root_reset",easing:circleIn});t.attr("transform","translate(".concat(this.margin.left,", ").concat(this.margin.top,")"));var s=prepareRenderChange({selection:this.rootG,duration:this.duration,namespace:"root_reset",easing:circleIn});s.attr("transform","translate(".concat(this.padding.left,", ").concat(this.padding.top,")"));setAccessibilityDescriptionWidth(this.chartID,this.width)};e.prototype.drawXAxis=function(){var e=this.innerPaddedWidth/this.nest.length*.7;drawAxis({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.x,left:false,wrapLabel:this.wrapLabel?e:"",dateFormat:this.xAxis.format,format:this.xAxis.format,tickInterval:this.xAxis.tickInterval,label:this.xAxis.label,padding:this.padding,hide:!this.xAxis.visible,duration:this.duration})};e.prototype.drawYAxis=function(){drawAxis({root:this.rootG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.y,left:true,wrapLabel:this.wrapLabel?100:"",format:this.yAxis.format,tickInterval:this.yAxis.tickInterval,label:this.yAxis.label,padding:this.padding,hide:!this.yAxis.visible,duration:this.duration})};e.prototype.setXAxisAccessibility=function(){setAccessXAxis({rootEle:this.dumbbellPlotEl,hasXAxis:this.xAxis?this.xAxis.visible:false,xAxis:this.x?this.x:false,xAxisLabel:this.xAxis.label?this.xAxis.label:""})};e.prototype.setYAxisAccessibility=function(){setAccessYAxis({rootEle:this.dumbbellPlotEl,hasYAxis:this.yAxis?this.yAxis.visible:false,yAxis:this.y?this.y:false,yAxisLabel:this.yAxis.label?this.yAxis.label:""})};e.prototype.drawBaselineX=function(){drawAxis({root:this.baselineG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.y,left:true,padding:this.padding,markOffset:this.x(0),hide:!this.isVertical?!this.showBaselineY:true,duration:this.duration})};e.prototype.drawBaselineY=function(){drawAxis({root:this.baselineG,height:this.innerPaddedHeight,width:this.innerPaddedWidth,axisScale:this.x,left:false,padding:this.padding,markOffset:this.y(0),hide:this.isVertical?!this.showBaselineX:true,duration:this.duration})};e.prototype.drawXGrid=function(){drawGrid(this.gridG,this.innerPaddedHeight,this.innerPaddedWidth,this.x,false,!this.xAxis.gridVisible,this.xAxis.tickInterval,this.duration)};e.prototype.drawYGrid=function(){drawGrid(this.gridG,this.innerPaddedHeight,this.innerPaddedWidth,this.y,true,!this.yAxis.gridVisible,this.yAxis.tickInterval,this.duration)};e.prototype.enterMarkerGeometries=function(){var e=this;this.enterMarkers.attr("orient","auto").attr("markerUnits","userSpaceOnUse").attr("id",(function(t){return e.generateId(t,t.index)})).attr("class","marker-"+this.marker.type).attr("stroke",this.handleMarkerColors);if(this.marker.type==="dot"){this.enterMarkers.append("circle").attr("r",5)}else if(this.marker.type==="stroke"){this.enterMarkers.append("path")}else if(this.marker.type==="arrow"){this.enterMarkers.append("path")}this.updateMarkerSize(this.enterMarkers)};e.prototype.updateMarkerGeometries=function(){var e=this;this.updateMarkers.interrupt();this.updateMarkers.attr("opacity",(function(t){return(e.marker.visible||t.focus)&&!t.limitOpacity?1:e.marker.visible||t.focus?e.hoverOpacity:0}))};e.prototype.updateMarkerStyle=function(){this.updateMarkers.attr("stroke",this.handleMarkerColors)};e.prototype.exitMarkerGeometries=function(){this.exitMarkers.transition("exit").duration(this.duration).ease(circleIn).remove()};e.prototype.enterDumbbells=function(){var e=this;this.enter.interrupt();this.enter.attr("class","dumbbell-plot").attr("d",(function(t){var s=e.x(t.values[0][e.xAccessor]);var i=e.y(t.values[0][e.yAccessor]);var a=e.x(t.values[1][e.xAccessor]);var r=e.y(t.values[1][e.yAccessor]);var l=e.isVertical?i>r?.001:-.001:0;var o=!e.isVertical?s>a?.001:-.001:0;return"M ".concat(s+o," ").concat(i+l," L ").concat(s," ").concat(i," L ").concat(s," ").concat(i," L ").concat(a," ").concat(r," L ").concat(a," ").concat(r," L ").concat(a," ").concat(r," L ").concat(s," ").concat(i," L ").concat(s," ").concat(i," L ").concat(s," ").concat(i," L ").concat(a," ").concat(r," L ").concat(a," ").concat(r," L ").concat(a-o," ").concat(r-l)})).attr("cursor",!this.suppressEvents?this.cursor:null).attr("opacity",0).each((function(e,t,s){initializeElementAccess(s[t])})).on("click",!this.suppressEvents?function(t,s,i){if(t.values){var a=i[s];var r=event;var l=e.findMarkerIndex(t,a,r);e.onClickHandler(t.values[l],i[s])}}:null).on("mouseover",!this.suppressEvents?function(t,s,i){var a=t;if(t.values){var r=i[s];var l=event;var o=e.findMarkerIndex(t,r,l);overrideTitleTooltip(e.chartID,true);a=t.values[o];e.hoverEvent.emit({data:a,target:i[s]})}e.showTooltip?e.eventsTooltip({data:e.tooltipLabel.labelAccessor&&e.tooltipLabel.labelAccessor.length?a:t,evt:event,isToShow:true}):""}:null).on("mouseout",!this.suppressEvents?function(){return e.onMouseOutHandler()}:null).attr("stroke",this.handleBarColors).attr("fill-opacity",this.handleBarOpacity);this.update.order()};e.prototype.updateBarStyle=function(){this.update.attr("stroke",this.handleBarColors).attr("fill-opacity",this.handleBarOpacity)};e.prototype.updateMarkerSize=function(e){var t=this;var s=e||this.updateMarkers;s.each((function(e,s,i){var a=select(i[s]);var r=s<2&&t.clickHighlight.length?parseFloat(t.clickStyle.strokeWidth+""):s<4?t.barStyle.width:parseFloat(t.hoverStyle.strokeWidth+"");var l=e.focus?t.focusMarker.sizeFromBar:t.marker.sizeFromBar;var o=t.marker.type==="dot"?1:t.marker.type==="stroke"?2:e.focus&&t.focusMarker.key||!t.focusMarker.key&&e.referenceIndex===0?1:2;var n=l*o*(r+1);var h=n?10/n:0;a.attr("viewBox","0 0 ".concat(10+h," ").concat(10+h)).attr("refX",5+h/2).attr("refY",5+h/2).attr("stroke-width",h).attr("markerWidth",n).attr("markerHeight",n);if(t.marker.type==="dot"){a.select("circle").attr("cx",5+h/2).attr("cy",5+h/2)}else if(t.marker.type==="stroke"){a.select("path").attr("d","M 4.5 ".concat(0+h/2," L 4.5 ").concat(10+h/2," L 6 ").concat(10+h/2," L 6 ").concat(0+h/2," z"))}else if(t.marker.type==="arrow"){a.select("path").attr("transform",e.focus&&t.focusMarker.key&&e.referenceIndex===1?"rotate(180,".concat(5+h/2,",").concat(5+h/2,")"):null).attr("d",e.focus&&t.focusMarker.key||!t.focusMarker.key&&e.referenceIndex===0?"M ".concat(0+h/2," ").concat(5+h/4," L ").concat(10+h/2," ").concat(0+h/2," L ").concat(10+h/2," ").concat(10+h/2," z"):"M 4.5 ".concat(0+h/2," L 4.5 ").concat(10+h/2," L 6 ").concat(10+h/2," L 6 ").concat(0+h/2," z"))}}))};e.prototype.drawMarkerGeometries=function(){var e=this;this.updateMarkers.selectAll(".marker-"+this.marker.type).data((function(e){return[e]}));if(this.marker.type==="arrow"){this.updateMarkers.selectAll("path").attr("d",(function(t,s,i){var a=s<2&&e.clickHighlight.length?parseFloat(e.clickStyle.strokeWidth+""):s<4?e.barStyle.width:parseFloat(e.hoverStyle.strokeWidth+"");var r=t.focus?e.focusMarker.sizeFromBar:e.marker.sizeFromBar;var l=e.marker.type==="dot"?1:e.marker.type==="stroke"?2:t.focus&&e.focusMarker.key||!e.focusMarker.key&&t.referenceIndex===0?1:2;var o=r*l*(a+1);var n=o?10/o:0;select(i[s]).attr("transform",t.focus&&e.focusMarker.key&&t.referenceIndex===1?"rotate(180,".concat(5+n/2,",").concat(5+n/2,")"):null);return t.focus&&e.focusMarker.key||!e.focusMarker.key&&t.referenceIndex===0?"M ".concat(0+n/2," ").concat(5+n/4," L ").concat(10+n/2," ").concat(0+n/2," L ").concat(10+n/2," ").concat(10+n/2," z"):"M 4.5 ".concat(0+n/2," L 4.5 ").concat(10+n/2," L 6 ").concat(10+n/2," L 6 ").concat(0+n/2," z")}))}};e.prototype.updateDumbbells=function(){this.update.interrupt();this.enter.transition("opacity").duration(this.duration).ease(circleIn).attr("opacity",1)};e.prototype.exitDumbbells=function(){var e=this;this.exit.interrupt();this.exit.transition("exit").ease(circleIn).duration(this.duration/2).attr("opacity",0).attr("d",(function(t,s,i){var a=select(i[s]);var r=+a.attr("data-centerX1");var l=+a.attr("data-centerY1");var o=+a.attr("data-centerX2");var n=+a.attr("data-centerY2");var h=e.isVertical?l>n?.001:-.001:0;var c=!e.isVertical?r>o?.001:-.001:0;return"M ".concat(r+c," ").concat(l+h," L ").concat(r," ").concat(l," L ").concat(r," ").concat(l," L ").concat(o," ").concat(n," L ").concat(o," ").concat(n," L ").concat(o," ").concat(n," L ").concat(r," ").concat(l," L ").concat(r," ").concat(l," L ").concat(r," ").concat(l," L ").concat(o," ").concat(n," L ").concat(o," ").concat(n," L ").concat(o-c," ").concat(n-h)}));this.update.transition("accessibilityAfterExit").duration(this.duration).ease(circleIn).call(transitionEndAll,(function(){var t=checkAccessFocus(e.rootG.node());e.exit.remove();e.setChartCountAccessibility();e.setGroupAccessibilityID();e.setGeometryAriaLabels();retainAccessFocus({parentGNode:e.rootG.node(),focusDidExist:t})}))};e.prototype.drawDumbbells=function(){var e=this;this.update.classed("moving",(function(t,s,i){var a=select(i[s]);var r=checkClicked(t.values[0],e.clickHighlight,e.innerInteractionKeys)&&checkClicked(t.values[1],e.clickHighlight,e.innerInteractionKeys);var l=checkHovered(t.values[0],e.hoverHighlight,e.innerInteractionKeys)&&checkHovered(t.values[1],e.hoverHighlight,e.innerInteractionKeys);var o=e.dumbbellInteraction?r?parseFloat(e.clickStyle.strokeWidth+"")||e.barStyle.width:l?parseFloat(e.hoverStyle.strokeWidth+"")||e.barStyle.width:e.barStyle.width:e.barStyle.width;var n=e.x(t.values[0][e.xAccessor]);var h=e.y(t.values[0][e.yAccessor]);var c=e.x(t.values[1][e.xAccessor]);var u=e.y(t.values[1][e.yAccessor]);var d=+a.attr("data-barSize");var p=+a.attr("data-centerX1");var f=+a.attr("data-centerY1");var b=+a.attr("data-centerX2");var y=+a.attr("data-centerY2");return o!==d||n!==p||h!==f||c!==b||u!==y})).attr("data-translate-x",this.margin.left+this.padding.left).attr("data-translate-y",this.margin.top+this.padding.top).attr("data-d",this.setBarSize).transition("update").ease(circleIn).duration(this.duration).attr("d",this.setBarSize).call(transitionEndAll,(function(){e.update.classed("moving",false);retainAccessFocus({parentGNode:e.rootG.node()});e.transitionEndEvent.emit({chartID:e.chartID})}))};e.prototype.updateMarkerIds=function(){var e=this;this.updateMarkers.attr("id",(function(t){return e.generateId(t,t.index)}));this.update.attr("marker-start",(function(t){var s=checkInteraction(t.values[0],1,0,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys);var i=checkHovered(t.values[0],e.hoverHighlight,e.innerInteractionKeys);var a=checkClicked(t.values[0],e.clickHighlight,e.innerInteractionKeys);var r=i&&!a?e.updateMarkers._groups[0][4].id:a||s?e.updateMarkers._groups[0][0].id:e.updateMarkers._groups[0][2].id;return e.url+r+")"})).attr("marker-end",(function(t){var s=checkInteraction(t.values[1],1,0,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys);var i=checkHovered(t.values[1],e.hoverHighlight,e.innerInteractionKeys);var a=checkClicked(t.values[1],e.clickHighlight,e.innerInteractionKeys);var r=i&&!a?e.updateMarkers._groups[0][5].id:a||s?e.updateMarkers._groups[0][1].id:e.updateMarkers._groups[0][3].id;return e.url+r+")"}))};e.prototype.updateInteractionState=function(){var e=this;this.update.interrupt("opacity");this.updateLabelChildren.interrupt("opacity");this.updateMarkers.interrupt();this.updateMarkers.attr("opacity",(function(t){return(e.marker.visible||t.focus)&&!t.limitOpacity?1:e.marker.visible||t.focus?e.hoverOpacity:0}));this.update.attr("opacity",1).attr("stroke",this.handleBarColors).attr("fill-opacity",this.handleBarOpacity).each((function(t,s,i){var a=select(i[s]);if(!a.classed("moving")){a.attr("d",e.setBarSize)}}));this.drawDataLabels(true);if(this.seriesLabelDetails.visible&&(this.seriesLabelDetails.placement==="auto"||this.seriesLabelDetails.collisionHideOnly)){this.drawSeriesLabels(true)}if(this.diffLabelDetails.visible&&(this.diffLabelDetails.placement==="auto"||this.diffLabelDetails.collisionHideOnly)){this.drawDifferenceLabels(true)}retainAccessFocus({parentGNode:this.rootG.node()});setLegendInteractionState({root:this.legendG,uniqueID:this.chartID,interactionKeys:this.innerInteractionKeys,groupAccessor:this.seriesAccessor,hoverHighlight:this.hoverHighlight,clickHighlight:this.clickHighlight,hoverStyle:this.hoverStyle,clickStyle:this.clickStyle,hoverOpacity:this.hoverOpacity})};e.prototype.enterSeriesLabels=function(){var e=this;this.enterSeriesLabel.interrupt();var t=this.seriesLabelDetails.placement==="auto";var s=this.isVertical?"right":"top";var i=t?true:this.seriesLabelDetails.placement.includes(s);this.enterSeriesLabel.attr("opacity",(function(t){var s=!e.seriesLabelDetails.visible?0:1;if(!e.seriesInteraction){return s}else{return checkInteraction(t,s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:Number.EPSILON}})).attr("class","dumbbell-series-label").attr("fill",this.handleSeriesLabelColors).attr("cursor",!this.suppressEvents&&this.seriesInteraction?this.cursor:null).on("click",!this.suppressEvents&&this.seriesInteraction?function(t,s,i){return e.onClickHandler(t,i[s])}:null).on("mouseover",!this.suppressEvents&&this.seriesInteraction?function(t,s,i){return e.onHoverHandler(t,i[s],false)}:null).on("mouseout",!this.suppressEvents&&this.seriesInteraction?function(){return e.onMouseOutHandler()}:null).attr("text-anchor",this.isVertical&&i?"start":this.isVertical?"end":"middle").attr("x",(function(t){return e.isVertical&&i?e.innerPaddedWidth:!e.isVertical?e.x(t.value):0})).attr("y",(function(t){return e.isVertical?e.y(t.value):!e.isVertical&&!i?e.innerPaddedHeight:0})).attr("dx",this.isVertical&&i?"0.1em":this.isVertical?"-0.1em":"0").attr("dy",this.isVertical?"0.3em":"-0.1em")};e.prototype.updateSeriesLabels=function(){var e=this;this.updateSeriesLabel.interrupt();this.updateSeriesLabel.transition("opacity_series_labels").ease(circleIn).duration(this.duration).attr("opacity",(function(t){var s=!e.seriesLabelDetails.visible?0:1;if(!e.seriesInteraction){return s}else{return checkInteraction(t,s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:1}}))};e.prototype.exitSeriesLabels=function(){this.exitSeriesLabel.transition("exit_series_labels").ease(circleIn).duration(this.duration).attr("opacity",0).remove()};e.prototype.drawSeriesLabels=function(e){var t=this;var s=this.seriesLabelDetails.placement==="auto";var i=this.isVertical?"right":"top";var a=s?true:this.seriesLabelDetails.placement.includes(i);var r=!s&&this.seriesLabelDetails.collisionHideOnly;var l=this.updateSeriesLabel.text((function(e,s){return t.seriesLabelDetails.label?t.seriesLabelDetails.label[s]:e.label})).style("visibility",(function(e,i,a){return s||t.seriesLabelDetails.collisionHideOnly?select(a[i]).style("visibility"):null})).attr("fill",this.handleSeriesLabelColors).attr("data-x",(function(e){return t.isVertical&&a?t.innerPaddedWidth:!t.isVertical?t.x(e.value):0})).attr("data-y",(function(e,s,i){var r=i[s];var l=getComputedStyle(r);var o=parseFloat(l.fontSize);var n=Math.max(o-1,1);return t.isVertical?t.y(e.value)+.3*n:!t.isVertical&&!a?t.innerPaddedHeight:0})).attr("data-translate-x",this.margin.left+this.padding.left).attr("data-translate-y",this.margin.top+this.padding.top).attr("data-use-dx",r).attr("data-use-dy",r).attr("data-text-anchor",this.isVertical&&a?"start":this.isVertical?"end":"middle").attr("dx",this.isVertical&&a?"0.1em":this.isVertical?"-0.1em":"0").attr("dy",this.isVertical?"0.3em":"-0.1em").transition("update_series_labels").ease(circleIn).duration((function(){if(e){return 0}return t.duration}));if(this.seriesLabelDetails.visible&&(this.seriesLabelDetails.placement==="auto"||this.seriesLabelDetails.collisionHideOnly)){this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:l,avoidMarks:[],validPositions:["middle"],offsets:[1],accessors:[this.seriesAccessor],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:this.seriesLabelDetails.visible&&this.seriesLabelDetails.collisionHideOnly&&this.seriesLabelDetails.placement!=="auto"});if(r){l.attr("text-anchor",this.isVertical&&a?"start":this.isVertical?"end":"middle").attr("x",(function(e){return t.isVertical&&a?t.innerPaddedWidth:!t.isVertical?t.x(e.value):0})).attr("y",(function(e){return t.isVertical?t.y(e.value):!t.isVertical&&!a?t.innerPaddedHeight:0})).attr("dx",this.isVertical&&a?"0.1em":this.isVertical?"-0.1em":"0").attr("dy",this.isVertical?"0.3em":"-0.1em")}}else{l.attr("text-anchor",this.isVertical&&a?"start":this.isVertical?"end":"middle").attr("x",(function(e){return t.isVertical&&a?t.innerPaddedWidth:!t.isVertical?t.x(e.value):0})).attr("y",(function(e){return t.isVertical?t.y(e.value):!t.isVertical&&!a?t.innerPaddedHeight:0})).attr("dx",this.isVertical&&a?"0.1em":this.isVertical?"-0.1em":"0").attr("dy",this.isVertical?"0.3em":"-0.1em")}};e.prototype.setSeriesLabelOpacity=function(){var e=this;this.updateSeriesLabel.interrupt("opacity_series_labels");this.updateSeriesLabel.attr("opacity",(function(t){var s=!e.seriesLabelDetails.visible?0:1;if(!e.seriesInteraction){return s}else{return checkInteraction(t,s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:1}}))};e.prototype.enterDifferenceLabels=function(){var e=this;this.enterDiffLabel.interrupt();var t=this.isVertical?"left":"top";var s=this.diffLabelDetails.placement.includes(t);this.enterDiffLabel.attr("class","dumbbell-diff-label").attr("opacity",(function(t){var s=e.differenceLabel.visible?1:0;if(!e.dumbbellInteraction){return s}else{return checkInteraction(t.values[0],s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:Number.EPSILON}})).attr("fill",this.setDiffLabelColor).attr("cursor",!this.suppressEvents&&this.dumbbellInteraction?this.cursor:null).on("click",!this.suppressEvents&&this.dumbbellInteraction&&this.differenceLabel.visible?function(t,s,i){return e.onClickHandler(t,i[s])}:null).on("mouseover",!this.suppressEvents&&this.dumbbellInteraction&&this.differenceLabel.visible?function(t,s,i){return e.onHoverHandler(t,i[s],true)}:null).on("mouseout",!this.suppressEvents&&this.dumbbellInteraction&&this.differenceLabel.visible?function(){return e.onMouseOutHandler()}:null).attr("x",(function(t){return e.isVertical?e.x(t.values[0][e.ordinalAccessor]):e.x(t.middle)})).attr("y",(function(t){return!e.isVertical&&s?e.y(t.key)-e.barStyle.width/2-4:!e.isVertical?e.y(t.key)+e.barStyle.width/2+4:e.y(t.middle)})).attr("dx",this.isVertical&&s?-this.barStyle.width/2-4:this.isVertical?this.barStyle.width/2+4:"0").attr("dy",!this.isVertical&&s?"0":!this.isVertical?"0.6em":"0.3em")};e.prototype.updateDifferenceLabels=function(){var e=this;this.updateDiffLabel.interrupt();this.updateDiffLabel.transition("opacity_diff_labels").ease(circleIn).duration(this.duration).attr("opacity",(function(t){var s=e.differenceLabel.visible?1:0;if(!e.dumbbellInteraction){return s}else{return checkInteraction(t.values[0],s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:1}}))};e.prototype.exitDifferenceLabels=function(){this.exitDiffLabel.transition("exit_diff_label").ease(circleIn).duration(this.duration).attr("opacity",0).remove()};e.prototype.drawDifferenceLabels=function(e){var t=this;var s=this.diffLabelDetails.placement==="auto";var i=this.isVertical?"left":"top";var a=s?true:this.diffLabelDetails.placement.includes(i);var r=!s&&this.differenceLabel.collisionHideOnly;var l=this.updateDiffLabel.text((function(e){return formatDataLabel(e,t.differenceLabel.calculation,t.differenceLabel.format)})).style("visibility",(function(e,i,a){return s||t.differenceLabel.collisionHideOnly?select(a[i]).style("visibility"):null})).attr("data-x",(function(e){return t.isVertical?t.x(e.values[0][t.ordinalAccessor]):t.x(e.middle)})).attr("data-y",(function(e){return!t.isVertical&&a?t.y(e.key)-t.barStyle.width/2-4:!t.isVertical?t.y(e.key)+t.barStyle.width/2+4:t.y(e.middle)})).attr("data-translate-x",this.margin.left+this.padding.left).attr("data-translate-y",this.margin.top+this.padding.top).attr("data-use-dx",r).attr("data-use-dy",r).attr("dx",this.isVertical&&a?-this.barStyle.width/2-4:this.isVertical?this.barStyle.width/2+4:"0").attr("dy",!this.isVertical&&a?"0":!this.isVertical?"0.6em":"0.3em").attr("text-anchor",(function(e,i,r){return s&&select(r[i]).attr("text-anchor")?select(r[i]).attr("text-anchor"):t.isVertical&&a?"end":t.isVertical?"start":"middle"})).transition("update_diff_label").ease(circleIn).duration((function(){if(e){return 0}return t.duration}));if(this.differenceLabel.visible&&(this.diffLabelDetails.placement==="auto"||this.differenceLabel.collisionHideOnly)){var o=r?["middle"]:this.isVertical?["left","right"]:["top","bottom"];var n=r?[this.barStyle.width/2+4]:[this.barStyle.width/2+4,this.barStyle.width/2+4];this.bitmaps=resolveLabelCollision({bitmaps:this.bitmaps,labelSelection:l,avoidMarks:[this.update],validPositions:o,offsets:n,accessors:["key"],size:[roundTo(this.width,0),roundTo(this.height,0)],hideOnly:this.differenceLabel.visible&&this.differenceLabel.collisionHideOnly&&this.diffLabelDetails.placement!=="auto"});if(r){l.attr("x",(function(e){return t.isVertical?t.x(e.values[0][t.ordinalAccessor]):t.x(e.middle)})).attr("y",(function(e){return!t.isVertical&&a?t.y(e.key)-t.barStyle.width/2-4:!t.isVertical?t.y(e.key)+t.barStyle.width/2+4:t.y(e.middle)})).attr("dx",this.isVertical&&a?-this.barStyle.width/2-4:this.isVertical?this.barStyle.width/2+4:"0").attr("dy",!this.isVertical&&a?"0":!this.isVertical?"0.6em":"0.3em").attr("text-anchor",this.isVertical&&a?"end":this.isVertical?"start":"middle")}}else{l.attr("x",(function(e){return t.isVertical?t.x(e.values[0][t.ordinalAccessor]):t.x(e.middle)})).attr("y",(function(e){return!t.isVertical&&a?t.y(e.key)-t.barStyle.width/2-4:!t.isVertical?t.y(e.key)+t.barStyle.width/2+4:t.y(e.middle)})).attr("dx",this.isVertical&&a?-this.barStyle.width/2-4:this.isVertical?this.barStyle.width/2+4:"0").attr("dy",!this.isVertical&&a?"0":!this.isVertical?"0.6em":"0.3em").attr("text-anchor",this.isVertical&&a?"end":this.isVertical?"start":"middle")}};e.prototype.enterDataLabels=function(){var e=this;this.enterLabels.interrupt();this.enterLabels.attr("class","dumbbell-label-wrapper").attr("opacity",0).attr("fill",this.handleLabelColors);this.enterLabelChildren.attr("class","dumbbell-dataLabel").attr("opacity",(function(t){return checkInteraction(t,1,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:Number.EPSILON})).attr("fill",this.handleLabelColors).attr("cursor",!this.suppressEvents&&this.dataLabel.visible?this.cursor:null).on("click",!this.suppressEvents&&this.dataLabel.visible?function(t,s,i){return e.onClickHandler(t,i[s])}:null).on("mouseover",!this.suppressEvents&&this.dataLabel.visible?function(t,s,i){return e.onHoverHandler(t,i[s],true)}:null).on("mouseout",!this.suppressEvents&&this.dataLabel.visible?function(){return e.onMouseOutHandler()}:null);placeDataLabels({root:this.enterLabelChildren,xScale:this.x,yScale:this.y,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,placement:this.placement,chartType:"dumbbell",layout:this.layoutOverride,labelOffset:this.markerData})};e.prototype.setDifferenceLabelOpacity=function(){var e=this;this.updateDiffLabel.interrupt("opacity_diff_labels");this.updateDiffLabel.attr("opacity",(function(t){var s=e.differenceLabel.visible?1:0;if(!e.dumbbellInteraction){return s}else{return checkInteraction(t.values[0],s,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:1}}))};e.prototype.updateDataLabels=function(){var e=this;this.updateLabelChildren.classed("transitioning",true);this.updateLabels.transition("opacity").ease(circleIn).duration(this.duration).attr("opacity",(function(){var t=!e.dataLabel.visible?0:1;return t})).call(transitionEndAll,(function(){e.updateLabelChildren.classed("transitioning",false)}))};e.prototype.exitDataLabels=function(){var e=this;this.exitLabels.interrupt();this.exitLabels.selectAll(".dumbbell-dataLabel").transition("exit").ease(circleIn).duration(this.duration/2).attr("opacity",0).call(transitionEndAll,(function(){e.exitLabels.remove()}));this.exitLabelChildren.transition("exit_dataLabel").ease(circleIn).duration(this.duration).attr("opacity",0).remove()};e.prototype.drawDataLabels=function(e){var t=this;var s=this.placement==="auto";var i=this.placement!=="auto"&&this.dataLabel.collisionHideOnly;this.updateLabelChildren.text((function(e){return formatDataLabel(e,t.innerLabelAccessor,t.dataLabel.format)}));var a=this.updateLabelChildren.attr("fill",this.handleLabelColors).style("visibility",(function(e,i,a){return s||t.dataLabel.collisionHideOnly?select(a[i]).style("visibility"):null})).attr("data-translate-x",this.margin.left+this.padding.left).attr("data-translate-y",this.margin.top+this.padding.top).attr("data-use-dx",i).attr("data-use-dy",i).attr("dx",(function(e){return t.isVertical?"0.0em":e.offset>=0?"-0.1em":"0.1em"})).attr("dy",(function(e){return t.isVertical&&e.offset>=0?"0.9em":t.isVertical?"-0.3em":"0.0em"})).attr("data-y",(function(e,s,i){var a=i[s];var r=getComputedStyle(a);var l=parseFloat(r.fontSize);var o=Math.max(l-1,1);var n=getTextWidth(a.textContent,l,true,r.fontFamily);var h=t.layoutOverride!=="horizontal"?0:e.offset>=0?-n/2:n/2;var c=t.layoutOverride!=="vertical"?-o/2:e.offset>=0?o/2:-o+-o/2;select(a).attr("data-x",(function(e){return(t.isVertical?t.x(e[t.ordinalAccessor]):t.x(e[t.valueAccessor])-e.offset)+h}));return t.isVertical?t.y(e[t.valueAccessor])+e.offset+c:t.y(e[t.ordinalAccessor])+c})).attr("data-offset",(function(e){return e.offset})).transition("update_dataLabel").ease(circleIn).duration((function(){if(e){return 0}return t.duration}));this.bitmaps=placeDataLabels({root:a,xScale:this.x,yScale:this.y,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,placement:this.placement,chartType:"dumbbell",layout:this.layoutOverride,labelOffset:this.markerData,avoidCollision:{runOccupancyBitmap:this.dataLabel.visible&&this.placement==="auto",labelSelection:a,avoidMarks:[this.update],validPositions:["middle"],offsets:[1],accessors:[this.ordinalAccessor,this.seriesAccessor,"key"],size:[roundTo(this.width,0),roundTo(this.height,0)],boundsScope:"centroid",hideOnly:this.dataLabel.visible&&this.dataLabel.collisionHideOnly}})};e.prototype.updateDiffLabelColor=function(){this.updateDiffLabel.attr("fill",this.setDiffLabelColor)};e.prototype.setLabelOpacity=function(){var e=this;this.updateLabels.attr("opacity",this.dataLabel.visible?1:0);this.updateLabelChildren.attr("opacity",(function(t){return checkInteraction(t,1,e.hoverOpacity,e.hoverHighlight,e.clickHighlight,e.innerInteractionKeys)<1?0:1}))};e.prototype.updateMarkerOpacity=function(){var e=this;this.updateMarkers.interrupt();this.updateMarkers.attr("opacity",(function(t){return(e.marker.visible||t.focus)&&!t.limitOpacity?1:e.marker.visible||t.focus?e.hoverOpacity:0}))};e.prototype.drawReferenceLines=function(){var e=this;var t=this.references.selectAll("g").data(this.referenceLines,(function(e){return e.label}));var s=t.enter().append("g").attr("class",".dumbbell-reference").attr("opacity",1);var i=s.append("line");i.attr("class","dumbbell-reference-line").attr("data-testid",this.unitTest?"reference-line":null).attr("opacity",0);var a=s.append("text");a.attr("class","dumbbell-reference-line-label").attr("opacity",0);var r=t.merge(s);var l=r.selectAll(".dumbbell-reference-line").data((function(e){return[e]})).transition("merge").ease(circleIn).duration(this.duration);var o=r.selectAll(".dumbbell-reference-line-label").data((function(e){return[e]})).transition("merge").ease(circleIn).duration(this.duration).text((function(e){return e.label}));var n=t.exit();n.transition("exit").ease(circleIn).duration(this.duration).attr("opacity",0).remove();s.attr("transform",(function(t){var s=!e.isVertical?"x":"y";return"translate(0,"+e[s](t.value)+")"}));r.transition("merge").ease(circleIn).duration(this.duration).attr("transform",(function(t){var s=!e.isVertical?"x":"y";return"translate(0,"+e[s](t.value)+")"}));i.attr("x1",0).attr("y1",0).attr("y2",0).attr("x2",this.innerPaddedWidth);a.attr("text-anchor",(function(e){return(e.labelPlacementHorizontal||"right")==="right"?"start":"end"})).attr("x",(function(t){return(t.labelPlacementHorizontal||"right")==="right"?e.innerPaddedWidth:0})).attr("y",0).attr("dx",(function(e){return(e.labelPlacementHorizontal||"right")==="right"?"0.1em":"-0.1em"})).attr("dy","0.3em");l.attr("x1",0).attr("y1",0).attr("y2",0).attr("x2",this.innerPaddedWidth);o.attr("text-anchor",(function(e){return(e.labelPlacementHorizontal||"right")==="right"?"start":"end"})).attr("x",(function(t){return(t.labelPlacementHorizontal||"right")==="right"?e.innerPaddedWidth:0})).attr("y",0).attr("dx",(function(e){return(e.labelPlacementHorizontal||"right")==="right"?"0.1em":"-0.1em"})).attr("dy","0.3em");l.style("stroke",visaColors[this.referenceStyle.color]||this.referenceStyle.color).style("stroke-width",this.referenceStyle.strokeWidth).attr("stroke-dasharray",this.referenceStyle.dashed?this.referenceStyle.dashed:"").attr("opacity",this.referenceStyle.opacity);o.style("fill",visaColors[this.referenceStyle.color]||this.referenceStyle.color).attr("opacity",1)};e.prototype.setSelectedClass=function(){var e=this;this.update.classed("highlight",(function(t,s,i){var a=checkInteraction(t.values[0],1,0,{},e.clickHighlight,e.innerInteractionKeys);var r=checkInteraction(t.values[1],1,0,{},e.clickHighlight,e.innerInteractionKeys);var l=a||r;l=e.clickHighlight&&e.clickHighlight.length?l:false;var o=e.accessibility.elementsAreInterface;setElementInteractionAccessState(i[s],l,o);return l}))};e.prototype.drawAnnotations=function(){annotate({source:this.rootG.node(),data:this.annotations,xScale:this.x,xAccessor:this.layoutOverride!=="horizontal"?this.ordinalAccessor:this.valueAccessor,yScale:this.y,yAccessor:this.layoutOverride!=="horizontal"?this.valueAccessor:this.ordinalAccessor,width:this.width,height:this.height,padding:this.padding,margin:this.margin,bitmaps:this.bitmaps})};e.prototype.setAnnotationAccessibility=function(){setAccessAnnotation(this.dumbbellPlotEl,this.annotations)};e.prototype.setTagLevels=function(){this.topLevel=findTagLevel(this.highestHeadingLevel);this.bottomLevel=findTagLevel(this.highestHeadingLevel,3)};e.prototype.setChartDescriptionWrapper=function(){initializeDescriptionRoot({rootEle:this.dumbbellPlotEl,title:this.accessibility.title||this.mainTitle,chartTag:"dumbbell-plot",uniqueID:this.chartID,highestHeadingLevel:this.highestHeadingLevel,redraw:this.shouldRedrawWrapper,disableKeyNav:this.suppressEvents&&this.accessibility.elementsAreInterface===false&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled});this.shouldRedrawWrapper=false};e.prototype.setParentSVGAccessibility=function(){var e=scopeDataKeys(this,chartAccessors,"dumbbell-plot");delete e[this.ordinalAccessor];setAccessibilityController({node:this.svg.node(),chartTag:"dumbbell-plot",title:this.accessibility.title||this.mainTitle,description:this.subTitle,uniqueID:this.chartID,geomType:"dumbbell",includeKeyNames:this.accessibility.includeDataKeyNames,dataKeys:e,groupKeys:["message"],nested:"values",disableKeyNav:this.suppressEvents&&this.accessibility.elementsAreInterface===false&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled})};e.prototype.setGeometryAccessibilityAttributes=function(){this.update.each((function(e,t,s){initializeElementAccess(s[t])}))};e.prototype.setGeometryAriaLabels=function(){var e=this;var t=scopeDataKeys(this,chartAccessors,"dumbbell-plot");delete t[this.ordinalAccessor];this.update.each((function(s,i,a){setElementFocusHandler({node:a[i],geomType:"dumbbell",includeKeyNames:e.accessibility.includeDataKeyNames,dataKeys:t,groupKeys:["message"],nested:["values"],uniqueID:e.chartID,disableKeyNav:e.suppressEvents&&e.accessibility.elementsAreInterface===false&&e.accessibility.keyboardNavConfig&&e.accessibility.keyboardNavConfig.disabled});setElementAccessID({node:a[i],uniqueID:e.chartID})}))};e.prototype.setGroupAccessibilityAttributes=function(){initializeElementAccess(this.dumbbellG.node())};e.prototype.setGroupAccessibilityID=function(){var e=this;this.dumbbellG.each((function(t,s,i){setElementAccessID({node:i[s],uniqueID:e.chartID})}))};e.prototype.setChartAccessibilityTitle=function(){setAccessTitle(this.dumbbellPlotEl,this.accessibility.title||this.mainTitle)};e.prototype.setChartAccessibilitySubtitle=function(){setAccessSubtitle(this.dumbbellPlotEl,this.subTitle)};e.prototype.setChartAccessibilityLongDescription=function(){setAccessLongDescription(this.dumbbellPlotEl,this.accessibility.longDescription)};e.prototype.setChartAccessibilityExecutiveSummary=function(){setAccessExecutiveSummary(this.dumbbellPlotEl,this.accessibility.executiveSummary)};e.prototype.setChartAccessibilityPurpose=function(){setAccessPurpose(this.dumbbellPlotEl,this.accessibility.purpose)};e.prototype.setChartAccessibilityContext=function(){setAccessContext(this.dumbbellPlotEl,this.accessibility.contextExplanation)};e.prototype.setChartAccessibilityStatisticalNotes=function(){setAccessStatistics(this.dumbbellPlotEl,this.accessibility.statisticalNotes)};e.prototype.setChartCountAccessibility=function(){setAccessChartCounts({rootEle:this.dumbbellPlotEl,parentGNode:this.dumbbellG.node(),chartTag:"dumbbell-plot",geomType:"dumbbell"})};e.prototype.setChartAccessibilityStructureNotes=function(){setAccessStructure(this.dumbbellPlotEl,this.accessibility.structureNotes)};e.prototype.onChangeHandler=function(){if(this.accessibility&&typeof this.accessibility.onChangeFunc==="function"){var e={updated:this.updated,added:this.enterSize,removed:this.exitSize};this.accessibility.onChangeFunc(e)}this.updated=false;this.enterSize=0;this.exitSize=0};e.prototype.onClickHandler=function(e,t){this.clickEvent.emit({data:e,target:t})};e.prototype.onHoverHandler=function(e,t,s){overrideTitleTooltip(this.chartID,true);this.hoverEvent.emit({data:e,target:t});if(this.showTooltip&&s){this.eventsTooltip({data:e,evt:event,isToShow:true})}};e.prototype.onMouseOutHandler=function(){overrideTitleTooltip(this.chartID,false);this.mouseOutEvent.emit();if(this.showTooltip){this.eventsTooltip({isToShow:false})}};e.prototype.setTooltipInitialStyle=function(){initTooltipStyle(this.tooltipG)};e.prototype.eventsTooltip=function(e){var t=e.data,s=e.evt,i=e.isToShow;drawTooltip({root:this.tooltipG,data:t,event:s,isToShow:i,tooltipLabel:this.tooltipLabel,xAxis:this.xAxis,yAxis:this.yAxis,dataLabel:this.dataLabel,ordinalAccessor:this.ordinalAccessor,valueAccessor:this.valueAccessor,groupAccessor:this.seriesAccessor,diffLabelDetails:this.diffLabelDetails,chartType:"dumbbell"})};e.prototype.updateCursor=function(){this.update.attr("cursor",!this.suppressEvents?this.cursor:null);this.updateDiffLabel.attr("cursor",!this.suppressEvents&&this.dumbbellInteraction&&this.differenceLabel.visible?this.cursor:null);this.updateLabelChildren.attr("cursor",!this.suppressEvents&&this.dataLabel.visible?this.cursor:null)};e.prototype.drawLegendElements=function(){drawLegend({root:this.legendG,uniqueID:this.chartID,width:this.innerPaddedWidth,height:this.margin.top+20,colorArr:this.colorArr,baseColorArr:!this.accessibility.hideStrokes?this.rawColors:null,hideStrokes:this.accessibility.hideStrokes,margin:this.margin,padding:this.padding,duration:this.duration,type:"bar",fontSize:16,data:this.legendData,label:this.legend.labels||this.ordinalLabel,hide:!this.legend.visible,interactionKeys:this.innerInteractionKeys,groupAccessor:this.seriesAccessor,hoverHighlight:this.hoverHighlight,clickHighlight:this.clickHighlight,hoverStyle:this.hoverStyle,clickStyle:this.clickStyle,hoverOpacity:this.hoverOpacity})};e.prototype.bindLegendInteractivity=function(){var e=this;select(this.dumbbellPlotEl).selectAll(".legend").on("click",this.legend.interactive&&this.seriesInteraction&&!this.suppressEvents?function(t,s,i){return e.onClickHandler(t,i[s])}:null).on("mouseover",this.legend.interactive&&this.seriesInteraction&&!this.suppressEvents?function(t,s,i){return e.onHoverHandler(t,i[s],false)}:null).on("mouseout",this.legend.interactive&&this.seriesInteraction&&!this.suppressEvents?function(){return e.onMouseOutHandler()}:null)};e.prototype.setLegendCursor=function(){select(this.dumbbellPlotEl).selectAll(".legend").style("cursor",this.legend.interactive&&this.seriesInteraction&&!this.suppressEvents?this.cursor:null)};e.prototype.setSeriesCursor=function(){this.updateSeriesLabel.attr("cursor",!this.suppressEvents&&this.seriesInteraction?this.cursor:null)};e.prototype.bindSeriesInteractivity=function(){var e=this;this.updateSeriesLabel.on("click",!this.suppressEvents&&this.seriesInteraction?function(t,s,i){return e.onClickHandler(t,i[s])}:null).on("mouseover",!this.suppressEvents&&this.seriesInteraction?function(t,s,i){return e.onHoverHandler(t,i[s],false)}:null).on("mouseout",!this.suppressEvents&&this.seriesInteraction?function(){return e.onMouseOutHandler()}:null)};e.prototype.bindInteractivity=function(){var e=this;this.update.on("click",!this.suppressEvents?function(t,s,i){if(t.values){var a=i[s];var r=event;var l=e.findMarkerIndex(t,a,r);e.onClickHandler(t.values[l],i[s])}}:null).on("mouseover",!this.suppressEvents?function(t,s,i){var a=t;if(t.values){var r=i[s];var l=event;var o=e.findMarkerIndex(t,r,l);overrideTitleTooltip(e.chartID,true);a=t.values[o];e.hoverEvent.emit({data:a,target:i[s]})}e.showTooltip?e.eventsTooltip({data:e.tooltipLabel.labelAccessor&&e.tooltipLabel.labelAccessor.length?a:t,evt:event,isToShow:true}):""}:null).on("mouseout",!this.suppressEvents?function(){return e.onMouseOutHandler()}:null);this.updateLabelChildren.on("click",!this.suppressEvents&&this.dataLabel.visible?function(t,s,i){return e.onClickHandler(t,i[s])}:null).on("mouseover",!this.suppressEvents&&this.dataLabel.visible?function(t,s,i){return e.onHoverHandler(t,i[s],true)}:null).on("mouseout",!this.suppressEvents&&this.dataLabel.visible?function(){return e.onMouseOutHandler()}:null);this.updateDiffLabel.on("click",!this.suppressEvents&&this.dumbbellInteraction&&this.differenceLabel.visible?function(t,s,i){return e.onClickHandler(t,i[s])}:null).on("mouseover",!this.suppressEvents&&this.dumbbellInteraction&&this.differenceLabel.visible?function(t,s,i){return e.onHoverHandler(t,i[s],true)}:null).on("mouseout",!this.suppressEvents&&this.dumbbellInteraction&&this.differenceLabel.visible?function(){return e.onMouseOutHandler()}:null)};e.prototype.findMarkerIndex=function(e,t,s){var i=this.isVertical?this.findPosition(t,s)[1]:this.findPosition(t,s)[0];var a=this.isVertical?"Y":"X";var r=+select(t).attr("data-center"+a+"1");var l=+select(t).attr("data-center"+a+"2");var o=(l-r)/2+r;var n=e.values[0][this.valueAccessor]>=e.values[1][this.valueAccessor]?0:1;return i<=o?0+n:1-n};e.prototype.findPosition=function(e,t){var s=e.ownerSVGElement||e;var i=s.createSVGPoint();i.x=t.clientX;i.y=t.clientY;i=i.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]};e.prototype.generateId=function(e,t){var s=this.marker.type==="dot"?1:this.marker.type==="stroke"?2:e.focus&&this.focusMarker.key||!this.focusMarker.key&&e.referenceIndex===0?1:2;s=e.focus?this.focusMarker.sizeFromBar*s:this.marker.sizeFromBar*s;var i=this.marker.visible||e.focus?1:0;var a=this.rawColors[e.referenceIndex][0]==="#"?this.rawColors[e.referenceIndex].substring(1):this.rawColors[e.referenceIndex];var r=(t<2&&this.clickHighlight.length?this.clickStyle.strokeWidth:t<4?this.barStyle.width:this.hoverStyle.strokeWidth).toString();r=""+r;r=r.replace(/\D/g,"n");var l="marker-"+this.chartID+t+this.marker.type+s+a+r+i;return l};e.prototype.render=function(){this.drawStartEvent.emit({chartID:this.chartID});this.init();if(this.shouldSetTagLevels){this.setTagLevels();this.shouldSetTagLevels=false}if(this.shouldValidate){this.shouldValidateAccessibilityProps();this.shouldValidate=false}if(this.shouldValidateLayout){this.validateLayout()}if(this.shouldValidateDataLabelPlacement){this.validateDataLabelPlacement();this.shouldValidateDataLabelPlacement=false}if(this.shouldValidateSeriesLabelPlacement){this.validateSeriesLabelPlacement();this.shouldValidateSeriesLabelPlacement=false}if(this.shouldValidateDiffLabelPlacement){this.validateDiffLabelPlacement();this.shouldValidateDiffLabelPlacement=false}if(this.shouldValidateDataLabelAccessor){this.validateDataLabelAccessor();this.shouldValidateDataLabelAccessor=false}if(this.shouldUpdateLayout){this.setLayoutData();this.shouldUpdateLayout=false}if(this.shouldValidateInteractionKeys){this.validateInteractionKeys();this.shouldValidateInteractionKeys=false}if(this.shouldUpdateData){this.prepareData();this.shouldUpdateData=false}if(this.shouldUpdateMarkerData){this.prepareMarkerData();this.shouldUpdateMarkerData=false}if(this.shouldUpdateSeriesData){this.prepareSeriesData();this.shouldUpdateSeriesData=false}if(this.shouldUpdateLegendData){this.prepareLegendData();this.shouldUpdateLegendData=false}if(this.shouldUpdateScales){this.prepareScales();this.shouldUpdateScales=false}if(this.shouldCheckValueAxis){if(this.layout==="horizontal"){this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true;this.shouldUpdateXGrid=true}else if(this.layout==="vertical"||this.layoutOverride){this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true;this.shouldUpdateYGrid=true}this.shouldCheckValueAxis=false}if(this.shouldCheckLabelAxis){if(this.layout==="vertical"||this.layoutOverride){this.shouldUpdateXAxis=true;this.shouldSetXAxisAccessibility=true;this.shouldUpdateXGrid=true}else if(this.layout==="horizontal"){this.shouldUpdateYAxis=true;this.shouldSetYAxisAccessibility=true;this.shouldUpdateYGrid=true}this.shouldCheckLabelAxis=false}if(this.shouldUpdateTableData){this.setTableData();this.shouldUpdateTableData=false}if(this.shouldSetColors){this.setColors();this.shouldSetColors=false}return h("div",{class:"o-layout"},h("div",{class:"o-layout--chart"},h(this.topLevel,{class:"dumbbell-main-title vcl-main-title","data-testid":"main-title"},this.mainTitle),h(this.bottomLevel,{class:"visa-ui-text--instructions dumbbell-sub-title vcl-sub-title","data-testid":"sub-title"},this.subTitle),h("div",{class:"dumbbell-legend vcl-legend",style:{display:this.legend.visible?"block":"none"}}),h("keyboard-instructions",{uniqueID:this.chartID,geomType:"dumbbell",chartTag:"dumbbell-plot",width:this.width-(this.margin?this.margin.right||0:0),isInteractive:this.accessibility.elementsAreInterface,disabled:this.suppressEvents&&this.accessibility.elementsAreInterface===false&&this.accessibility.keyboardNavConfig&&this.accessibility.keyboardNavConfig.disabled}),h("div",{class:"visa-viz-d3-dumbbell-container"}),h("div",{class:"dumbbell-tooltip vcl-tooltip",style:{display:this.showTooltip?"block":"none"}}),h("data-table",{uniqueID:this.chartID,isCompact:true,tableColumns:this.tableColumns,data:this.tableData,padding:this.padding,margin:this.margin,hideDataTable:this.accessibility.hideDataTableButton})))};e.prototype.init=function(){var e=Object.keys(DumbbellPlotDefaultValues);var t=0;var s={wrapLabel:{exception:false},strokeWidth:{exception:0},showDots:{exception:false},dotRadius:{exception:0},hoverOpacity:{exception:0},showTooltip:{exception:false},mainTitle:{exception:""},subTitle:{exception:""},showBaselineX:{exception:false}};for(t=0;t<e.length;t++){var i=!s[e[t]]?false:this[e[t]]===s[e[t]].exception;this[e[t]]=this[e[t]]||i?this[e[t]]:DumbbellPlotDefaultValues[e[t]]}};Object.defineProperty(e.prototype,"dumbbellPlotEl",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{mainTitle:["mainTitleWatcher"],subTitle:["subTitleWatcher"],height:["dimensionWatcher"],width:["dimensionWatcher"],padding:["dimensionWatcher"],margin:["dimensionWatcher"],data:["dataWatcher"],uniqueID:["idWatcher"],highestHeadingLevel:["headingWatcher"],ordinalAccessor:["ordinalAccessorWatcher"],valueAccessor:["valueAccessorWatcher"],seriesAccessor:["seriesAccessorWatcher"],sortOrder:["sortWatcher"],xAxis:["xAxisWatcher"],yAxis:["yAxisWatcher"],wrapLabel:["wrapLabelWatcher"],layout:["layoutWatcher"],showBaselineX:["showBaselineXWatcher"],showBaselineY:["showBaselineYWatcher"],colorPalette:["paletteWatcher"],colors:["paletteWatcher"],hoverStyle:["hoverStyleWatcher"],clickStyle:["clickStyleWatcher"],hoverOpacity:["hoverOpacityWatcher"],cursor:["cursorWatcher"],focusMarker:["focusMarkerWatcher"],marker:["markerWatcher"],barStyle:["barStyleWatcher"],dataLabel:["dataLabelWatcher"],seriesLabel:["seriesLabelWatcher"],differenceLabel:["differenceLabelWatcher"],showTooltip:["showTooltipWatcher"],tooltipLabel:["tooltipLabelWatcher"],accessibility:["accessibilityWatcher"],legend:["legendWatcher"],annotations:["annotationsWatcher"],maxValueOverride:["valueOverrideWatcher"],minValueOverride:["valueOverrideWatcher"],referenceStyle:["referenceWatcher"],referenceLines:["referenceWatcher"],suppressEvents:["suppressWatcher"],hoverHighlight:["hoverWatcher"],clickHighlight:["clickWatcher"],interactionKeys:["interactionWatcher"],unitTest:["unitTestWatcher"]}},enumerable:false,configurable:true});return e}();window["VisaChartsLibOSSLicenses"]=getLicenses();DumbbellPlot.style=dumbbellPlotCss;export{DumbbellPlot as dumbbell_plot};