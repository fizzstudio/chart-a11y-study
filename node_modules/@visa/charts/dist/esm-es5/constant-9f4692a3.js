var pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function Path(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)},closePath:function(){if(this._x1!==null){this._x1=this._x0,this._y1=this._y0;this._+="Z"}},lineTo:function(t,i){this._+="L"+(this._x1=+t)+","+(this._y1=+i)},quadraticCurveTo:function(t,i,s,h){this._+="Q"+ +t+","+ +i+","+(this._x1=+s)+","+(this._y1=+h)},bezierCurveTo:function(t,i,s,h,n,_){this._+="C"+ +t+","+ +i+","+ +s+","+ +h+","+(this._x1=+n)+","+(this._y1=+_)},arcTo:function(t,i,s,h,n){t=+t,i=+i,s=+s,h=+h,n=+n;var _=this._x1,a=this._y1,o=s-t,e=h-i,r=_-t,u=a-i,c=r*r+u*u;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null){this._+="M"+(this._x1=t)+","+(this._y1=i)}else if(!(c>epsilon));else if(!(Math.abs(u*o-e*r)>epsilon)||!n){this._+="L"+(this._x1=t)+","+(this._y1=i)}else{var f=s-_,l=h-a,p=o*o+e*e,x=f*f+l*l,y=Math.sqrt(p),M=Math.sqrt(c),v=n*Math.tan((pi-Math.acos((p+c-x)/(2*y*M)))/2),P=v/M,b=v/y;if(Math.abs(P-1)>epsilon){this._+="L"+(t+P*r)+","+(i+P*u)}this._+="A"+n+","+n+",0,0,"+ +(u*f>r*l)+","+(this._x1=t+b*o)+","+(this._y1=i+b*e)}},arc:function(t,i,s,h,n,_){t=+t,i=+i,s=+s,_=!!_;var a=s*Math.cos(h),o=s*Math.sin(h),e=t+a,r=i+o,u=1^_,c=_?h-n:n-h;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null){this._+="M"+e+","+r}else if(Math.abs(this._x1-e)>epsilon||Math.abs(this._y1-r)>epsilon){this._+="L"+e+","+r}if(!s)return;if(c<0)c=c%tau+tau;if(c>tauEpsilon){this._+="A"+s+","+s+",0,1,"+u+","+(t-a)+","+(i-o)+"A"+s+","+s+",0,1,"+u+","+(this._x1=e)+","+(this._y1=r)}else if(c>epsilon){this._+="A"+s+","+s+",0,"+ +(c>=pi)+","+u+","+(this._x1=t+s*Math.cos(n))+","+(this._y1=i+s*Math.sin(n))}},rect:function(t,i,s,h){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+i)+"h"+ +s+"v"+ +h+"h"+-s+"Z"},toString:function(){return this._}};function constant(t){return function i(){return t}}export{constant as c,path as p};