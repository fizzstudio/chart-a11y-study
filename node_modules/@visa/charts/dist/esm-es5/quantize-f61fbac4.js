import{b as bisectRight}from"./max-d011e4a4.js";import{i as initRange,d as linearish,s as slice}from"./linear-e4808753.js";function quantize(){var n=0,e=1,t=1,i=[.5],r=[0,1],a;function u(n){return n<=n?r[bisectRight(i,n,0,t)]:a}function o(){var r=-1;i=new Array(t);while(++r<t)i[r]=((r+1)*e-(r-t)*n)/(t+1);return u}u.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],o()):[n,e]};u.range=function(n){return arguments.length?(t=(r=slice.call(n)).length-1,o()):r.slice()};u.invertExtent=function(a){var u=r.indexOf(a);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]};u.unknown=function(n){return arguments.length?(a=n,u):u};u.thresholds=function(){return i.slice()};u.copy=function(){return quantize().domain([n,e]).range(r).unknown(a)};return initRange.apply(linearish(u),arguments)}export{quantize as q};