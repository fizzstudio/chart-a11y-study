import{c as constant,p as path}from"./constant-9f4692a3.js";import{x,y}from"./point-daba0271.js";function Linear(n){this._context=n}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(n,t){n=+n,t=+t;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function curveLinear(n){return new Linear(n)}function line(){var n=x,t=y,i=constant(true),e=null,o=curveLinear,l=null;function r(r){var u,c=r.length,a,s=false,f;if(e==null)l=o(f=path());for(u=0;u<=c;++u){if(!(u<c&&i(a=r[u],u,r))===s){if(s=!s)l.lineStart();else l.lineEnd()}if(s)l.point(+n(a,u,r),+t(a,u,r))}if(f)return l=null,f+""||null}r.x=function(t){return arguments.length?(n=typeof t==="function"?t:constant(+t),r):n};r.y=function(n){return arguments.length?(t=typeof n==="function"?n:constant(+n),r):t};r.defined=function(n){return arguments.length?(i=typeof n==="function"?n:constant(!!n),r):i};r.curve=function(n){return arguments.length?(o=n,e!=null&&(l=o(e)),r):o};r.context=function(n){return arguments.length?(n==null?e=l=null:l=o(e=n),r):e};return r}export{line as l};